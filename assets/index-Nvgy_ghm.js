(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function Sb(){if(x_)return Al;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var O_;function wb(){return O_||(O_=1,Vd.exports=Sb()),Vd.exports}var C=wb(),Md={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Rb(){if(V_)return Se;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ee={};function Y(D,W,re){this.props=D,this.context=W,this.refs=ee,this.updater=re||H}Y.prototype.isReactComponent={},Y.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},Y.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Te(){}Te.prototype=Y.prototype;function be(D,W,re){this.props=D,this.context=W,this.refs=ee,this.updater=re||H}var _e=be.prototype=new Te;_e.constructor=be,Z(_e,Y.prototype),_e.isPureReactComponent=!0;var Xe=Array.isArray,ve={H:null,A:null,T:null,S:null,V:null},Pe=Object.prototype.hasOwnProperty;function V(D,W,re,te,le,Ne){return re=Ne.ref,{$$typeof:r,type:D,key:W,ref:re!==void 0?re:null,props:Ne}}function S(D,W){return V(D.type,W,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return W[re]})}var O=/\/+/g;function P(D,W){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):W.toString(36)}function R(){}function ot(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function tt(D,W,re,te,le){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var pe=!1;if(D===null)pe=!0;else switch(Ne){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(D.$$typeof){case r:case e:pe=!0;break;case T:return pe=D._init,tt(pe(D._payload),W,re,te,le)}}if(pe)return le=le(D),pe=te===""?"."+P(D,0):te,Xe(le)?(re="",pe!=null&&(re=pe.replace(O,"$&/")+"/"),tt(le,W,re,"",function(kn){return kn})):le!=null&&(I(le)&&(le=S(le,re+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+pe)),W.push(le)),1;pe=0;var kt=te===""?".":te+":";if(Xe(D))for(var He=0;He<D.length;He++)te=D[He],Ne=kt+P(te,He),pe+=tt(te,W,re,Ne,le);else if(He=N(D),typeof He=="function")for(D=He.call(D),He=0;!(te=D.next()).done;)te=te.value,Ne=kt+P(te,He++),pe+=tt(te,W,re,Ne,le);else if(Ne==="object"){if(typeof D.then=="function")return tt(ot(D),W,re,te,le);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(D,W,re){if(D==null)return D;var te=[],le=0;return tt(D,te,"","",function(Ne){return W.call(re,Ne,le++)}),te}function ie(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Le(){}return Se.Children={map:G,forEach:function(D,W,re){G(D,function(){W.apply(this,arguments)},re)},count:function(D){var W=0;return G(D,function(){W++}),W},toArray:function(D){return G(D,function(W){return W})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=Y,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=be,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ve.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cloneElement=function(D,W,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=Z({},D.props),le=D.key,Ne=void 0;if(W!=null)for(pe in W.ref!==void 0&&(Ne=void 0),W.key!==void 0&&(le=""+W.key),W)!Pe.call(W,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&W.ref===void 0||(te[pe]=W[pe]);var pe=arguments.length-2;if(pe===1)te.children=re;else if(1<pe){for(var kt=Array(pe),He=0;He<pe;He++)kt[He]=arguments[He+2];te.children=kt}return V(D.type,le,void 0,void 0,Ne,te)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,W,re){var te,le={},Ne=null;if(W!=null)for(te in W.key!==void 0&&(Ne=""+W.key),W)Pe.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=W[te]);var pe=arguments.length-2;if(pe===1)le.children=re;else if(1<pe){for(var kt=Array(pe),He=0;He<pe;He++)kt[He]=arguments[He+2];le.children=kt}if(D&&D.defaultProps)for(te in pe=D.defaultProps,pe)le[te]===void 0&&(le[te]=pe[te]);return V(D,Ne,void 0,void 0,null,le)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:g,render:D}},Se.isValidElement=I,Se.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ie}},Se.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Se.startTransition=function(D){var W=ve.T,re={};ve.T=re;try{var te=D(),le=ve.S;le!==null&&le(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Le,ce)}catch(Ne){ce(Ne)}finally{ve.T=W}},Se.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()},Se.use=function(D){return ve.H.use(D)},Se.useActionState=function(D,W,re){return ve.H.useActionState(D,W,re)},Se.useCallback=function(D,W){return ve.H.useCallback(D,W)},Se.useContext=function(D){return ve.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,W){return ve.H.useDeferredValue(D,W)},Se.useEffect=function(D,W,re){var te=ve.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,W)},Se.useId=function(){return ve.H.useId()},Se.useImperativeHandle=function(D,W,re){return ve.H.useImperativeHandle(D,W,re)},Se.useInsertionEffect=function(D,W){return ve.H.useInsertionEffect(D,W)},Se.useLayoutEffect=function(D,W){return ve.H.useLayoutEffect(D,W)},Se.useMemo=function(D,W){return ve.H.useMemo(D,W)},Se.useOptimistic=function(D,W){return ve.H.useOptimistic(D,W)},Se.useReducer=function(D,W,re){return ve.H.useReducer(D,W,re)},Se.useRef=function(D){return ve.H.useRef(D)},Se.useState=function(D){return ve.H.useState(D)},Se.useSyncExternalStore=function(D,W,re){return ve.H.useSyncExternalStore(D,W,re)},Se.useTransition=function(){return ve.H.useTransition()},Se.version="19.1.1",Se}var M_;function Sm(){return M_||(M_=1,Md.exports=Rb()),Md.exports}var hi=Sm();const $d=bb(hi);var kd={exports:{}},bl={},Pd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Ib(){return k_||(k_=1,function(r){function e(G,ie){var ce=G.length;G.push(ie);e:for(;0<ce;){var Le=ce-1>>>1,D=G[Le];if(0<o(D,ie))G[Le]=ie,G[ce]=D,ce=Le;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ie=G[0],ce=G.pop();if(ce!==ie){G[0]=ce;e:for(var Le=0,D=G.length,W=D>>>1;Le<W;){var re=2*(Le+1)-1,te=G[re],le=re+1,Ne=G[le];if(0>o(te,ce))le<D&&0>o(Ne,te)?(G[Le]=Ne,G[le]=ce,Le=le):(G[Le]=te,G[re]=ce,Le=re);else if(le<D&&0>o(Ne,ce))G[Le]=Ne,G[le]=ce,Le=le;else break e}}return ie}function o(G,ie){var ce=G.sortIndex-ie.sortIndex;return ce!==0?ce:G.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,b=null,N=3,H=!1,Z=!1,ee=!1,Y=!1,Te=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Xe(G){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=G)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function ve(G){if(ee=!1,Xe(G),!Z)if(n(p)!==null)Z=!0,Pe||(Pe=!0,P());else{var ie=n(y);ie!==null&&tt(ve,ie.startTime-G)}}var Pe=!1,V=-1,S=5,I=-1;function M(){return Y?!0:!(r.unstable_now()-I<S)}function O(){if(Y=!1,Pe){var G=r.unstable_now();I=G;var ie=!0;try{e:{Z=!1,ee&&(ee=!1,be(V),V=-1),H=!0;var ce=N;try{t:{for(Xe(G),b=n(p);b!==null&&!(b.expirationTime>G&&M());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,N=b.priorityLevel;var D=Le(b.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){b.callback=D,Xe(G),ie=!0;break t}b===n(p)&&s(p),Xe(G)}else s(p);b=n(p)}if(b!==null)ie=!0;else{var W=n(y);W!==null&&tt(ve,W.startTime-G),ie=!1}}break e}finally{b=null,N=ce,H=!1}ie=void 0}}finally{ie?P():Pe=!1}}}var P;if(typeof _e=="function")P=function(){_e(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ot=R.port2;R.port1.onmessage=O,P=function(){ot.postMessage(null)}}else P=function(){Te(O,0)};function tt(G,ie){V=Te(function(){G(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var ce=N;N=ie;try{return G()}finally{N=ce}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ce=N;N=G;try{return ie()}finally{N=ce}},r.unstable_scheduleCallback=function(G,ie,ce){var Le=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Le+ce:Le):ce=Le,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,G={id:T++,callback:ie,priorityLevel:G,startTime:ce,expirationTime:D,sortIndex:-1},ce>Le?(G.sortIndex=ce,e(y,G),n(p)===null&&G===n(y)&&(ee?(be(V),V=-1):ee=!0,tt(ve,ce-Le))):(G.sortIndex=D,e(p,G),Z||H||(Z=!0,Pe||(Pe=!0,P()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var ie=N;return function(){var ce=N;N=ie;try{return G.apply(this,arguments)}finally{N=ce}}}}(Ld)),Ld}var P_;function Cb(){return P_||(P_=1,Pd.exports=Ib()),Pd.exports}var Ud={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Nb(){if(L_)return Kt;L_=1;var r=Sm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Kt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:H}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:N,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var U_;function Db(){if(U_)return Ud.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=Nb(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function xb(){if(j_)return bl;j_=1;var r=Cb(),e=Sm(),n=Db();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),be=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case Y:return"Profiler";case ee:return"StrictMode";case ve:return"Suspense";case Pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case _e:return(t.displayName||"Context")+".Provider";case be:return(t._context.displayName||"Context")+".Consumer";case Xe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var tt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Le=[],D=-1;function W(t){return{current:t}}function re(t){0>D||(t.current=Le[D],Le[D]=null,D--)}function te(t,i){D++,Le[D]=t.current,t.current=i}var le=W(null),Ne=W(null),pe=W(null),kt=W(null);function He(t,i){switch(te(pe,i),te(Ne,t),te(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=a_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}re(le),te(le,t)}function kn(){re(le),re(Ne),re(pe)}function po(t){t.memoizedState!==null&&te(kt,t);var i=le.current,a=a_(i,t.type);i!==a&&(te(Ne,t),te(le,a))}function $s(t){Ne.current===t&&(re(le),re(Ne)),kt.current===t&&(re(kt),yl._currentValue=ce)}var Ws=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,Zs=r.unstable_cancelCallback,Vh=r.unstable_shouldYield,yo=r.unstable_requestPaint,rn=r.unstable_now,ou=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,_o=r.unstable_IdlePriority,kh=r.log,is=r.unstable_setDisableYieldValue,Zi=null,Gt=null;function An(t){if(typeof kh=="function"&&is(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Zi,t)}catch{}}var Wt=Math.clz32?Math.clz32:uu,Ph=Math.log,lu=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(Ph(t)/lu|0)|0}var $n=256,Ji=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Pn(l):(v&=E,v!==0?h=Pn(v):a||(a=E&~t,a!==0&&(h=Pn(a))))):(E=l&~d,E!==0?h=Pn(E):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function er(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Js(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=$n;return $n<<=1,($n&4194048)===0&&($n=256),t}function tr(){var t=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),t}function ea(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ht(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Wt(a),X=1<<F;E[F]=0,w[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&nr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function nr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ir(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Eo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function To(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vi(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function Lh(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Wn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,Ei="__reactContainer$"+Wn,rs="__reactEvents$"+Wn,ss="__reactListeners$"+Wn,Uh="__reactHandles$"+Wn,Ln="__reactResources$"+Wn,rr="__reactMarker$"+Wn;function ta(t){delete t[ft],delete t[Pt],delete t[rs],delete t[ss],delete t[Uh]}function Zn(t){var i=t[ft];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[ft]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=c_(t);t!==null;){if(a=t[ft])return a;t=c_(t)}return i}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[ft]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function sr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ar(t){var i=t[Ln];return i||(i=t[Ln]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[rr]=!0}var hu=new Set,as={};function ei(t,i){ti(t,i),ti(t+"Capture",i)}function ti(t,i){for(as[t]=i,t=0;t<i.length;t++)hu.add(i[t])}var os=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ni={},na={};function jh(t){return Ws.call(na,t)?!0:Ws.call(ni,t)?!1:os.test(t)?na[t]=!0:(ni[t]=!0,!1)}function ls(t,i,a){if(jh(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function us(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Sn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var cs,ia;function Ti(t){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+ia}var ra=!1;function sa(t,i){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(t,[],X)}else{try{X.call()}catch(B){z=B}t.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),j=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===j.length)for(l=w.length-1,h=j.length-1;1<=l&&0<=h&&w[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==j[h]){var F=`
`+w[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function zh(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ti("Activity");default:return""}}function Un(t){try{var i="";do i+=zh(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function it(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hs(t){var i=or(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function lr(t){t._valueTracker||(t._valueTracker=hs(t))}function Ge(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fs=/[\n"\\]/g;function Nt(t){return t.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ao(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+it(i)):t.value!==""+it(i)&&(t.value=""+it(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?So(t,v,it(i)):a!=null?So(t,v,it(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+it(E):t.removeAttribute("name")}function bo(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+it(a):"",i=i!=null?""+it(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function So(t,i,a){i==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ur(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+it(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function fu(t,i,a){if(i!=null&&(i=""+it(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+it(a):""}function du(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=it(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bi.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ro(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&wo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&wo(t,d,i[d])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return gu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Io=null;function Co(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cr=null,Zt=null;function pu(t){var i=Jn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ao(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));Ao(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ge(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ur(t,!!a.multiple,i,!1)}}}var ds=!1;function ms(t,i,a){if(ds)return t(i,a);ds=!0;try{var l=t(i);return l}finally{if(ds=!1,(cr!==null||Zt!==null)&&(sc(),cr&&(i=cr,t=Zt,Zt=cr=null,pu(i),t)))for(i=0;i<t.length;i++)pu(t[i])}}function hr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Si=!1;if(Jt)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Si=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Si=!1}var Rn=null,Ze=null,oa=null;function yu(){if(oa)return oa;var t,i=Ze,a=i.length,l,h="value"in Rn?Rn.value:Rn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return oa=h.slice(t,1<l?1-l:void 0)}function gs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function No(){return!1}function St(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ps:No,this.isPropagationStopped=No,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=St(Ft),_s=T({},Ft,{view:0,detail:0}),vs=St(_s),la,Es,ii,Ts=T({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(la=t.screenX-ii.screenX,Es=t.screenY-ii.screenY):Es=la=0,ii=t),la)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),As=St(Ts),Bh=T({},Ts,{dataTransfer:0}),_u=St(Bh),bs=T({},_s,{relatedTarget:0}),ua=St(bs),vu=T({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=St(vu),xo=T({},Ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=St(xo),ca=T({},Ft,{data:0}),Oo=St(ca),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Au[t])?!!i[t]:!1}function ha(){return bu}var Su=T({},_s,{key:function(t){if(t.key){var i=Tu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=St(Su),en=T({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=St(en),wu=T({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),dr=St(wu),c=T({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=St(c),_=T({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=St(_),U=T({},Ft,{newState:0,oldState:0}),q=St(U),J=[9,13,27,32],Ae=Jt&&"CompositionEvent"in window,et=null;Jt&&"documentMode"in document&&(et=document.documentMode);var ze=Jt&&"TextEvent"in window&&!et,mt=Jt&&(!Ae||et&&8<et&&11>=et),un=" ",ri=!1;function zn(t,i){switch(t){case"keyup":return J.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qn=!1;function Mo(t,i){switch(t){case"compositionend":return Bn(i);case"keypress":return i.which!==32?null:(ri=!0,un);case"textInput":return t=i.data,t===un&&ri?null:t;default:return null}}function $T(t,i){if(qn)return t==="compositionend"||!Ae&&zn(t,i)?(t=yu(),oa=Ze=Rn=null,qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mt&&i.locale!=="ko"?null:i.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!WT[t.type]:i==="textarea"}function Eg(t,i,a,l){cr?Zt?Zt.push(l):Zt=[l]:cr=l,i=hc(i,"onChange"),0<i.length&&(a=new ys("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ko=null,Po=null;function ZT(t){e_(t,0)}function Ru(t){var i=sr(t);if(Ge(i))return t}function Tg(t,i){if(t==="change")return i}var Ag=!1;if(Jt){var qh;if(Jt){var Hh="oninput"in document;if(!Hh){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Hh=typeof bg.oninput=="function"}qh=Hh}else qh=!1;Ag=qh&&(!document.documentMode||9<document.documentMode)}function Sg(){ko&&(ko.detachEvent("onpropertychange",wg),Po=ko=null)}function wg(t){if(t.propertyName==="value"&&Ru(Po)){var i=[];Eg(i,Po,t,Co(t)),ms(ZT,i)}}function JT(t,i,a){t==="focusin"?(Sg(),ko=i,Po=a,ko.attachEvent("onpropertychange",wg)):t==="focusout"&&Sg()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Po)}function tA(t,i){if(t==="click")return Ru(i)}function nA(t,i){if(t==="input"||t==="change")return Ru(i)}function iA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:iA;function Lo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ws.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,i){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ai(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ai(t.document)}return i}function Gh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var rA=Jt&&"documentMode"in document&&11>=document.documentMode,da=null,Fh=null,Uo=null,Qh=!1;function Dg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||da==null||da!==Ai(l)||(l=da,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Lo(Uo,l)||(Uo=l,l=hc(Fh,"onSelect"),0<l.length&&(i=new ys("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=da)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ma={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Kh={},xg={};Jt&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function ws(t){if(Kh[t])return Kh[t];if(!ma[t])return t;var i=ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return Kh[t]=i[a];return t}var Og=ws("animationend"),Vg=ws("animationiteration"),Mg=ws("animationstart"),sA=ws("transitionrun"),aA=ws("transitionstart"),oA=ws("transitioncancel"),kg=ws("transitionend"),Pg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Hn(t,i){Pg.set(t,i),ei(i,[t])}var Lg=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Un(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Un(i)}}var Cn=[],ga=0,Xh=0;function Iu(){for(var t=ga,i=Xh=ga=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ug(a,h,d)}}function Cu(t,i,a,l){Cn[ga++]=t,Cn[ga++]=i,Cn[ga++]=a,Cn[ga++]=l,Xh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $h(t,i,a,l){return Cu(t,i,a,l),Nu(t)}function pa(t,i){return Cu(t,null,null,i),Nu(t)}function Ug(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(t){if(50<ul)throw ul=0,id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ya={};function lA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,a,l){return new lA(t,i,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,i){var a=t.alternate;return a===null?(a=hn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Wh(t)&&(v=1);else if(typeof t=="string")v=cb(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=hn(31,a,i,h),t.elementType=I,t.lanes=d,t;case Z:return Rs(a.children,h,d,i);case ee:v=8,h|=24;break;case Y:return t=hn(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case ve:return t=hn(13,a,i,h),t.elementType=ve,t.lanes=d,t;case Pe:return t=hn(19,a,i,h),t.elementType=Pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:case _e:v=10;break e;case be:v=9;break e;case Xe:v=11;break e;case V:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=hn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Rs(t,i,a,l){return t=hn(7,t,l,i),t.lanes=a,t}function Zh(t,i,a){return t=hn(6,t,null,i),t.lanes=a,t}function Jh(t,i,a){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var _a=[],va=0,xu=null,Ou=0,Nn=[],Dn=0,Is=null,Ii=1,Ci="";function Cs(t,i){_a[va++]=Ou,_a[va++]=xu,xu=t,Ou=i}function zg(t,i,a){Nn[Dn++]=Ii,Nn[Dn++]=Ci,Nn[Dn++]=Is,Is=t;var l=Ii;t=Ci;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-Wt(i)+h|a<<h|l,Ci=d+t}else Ii=1<<d|a<<h|l,Ci=t}function ef(t){t.return!==null&&(Cs(t,1),zg(t,1,0))}function tf(t){for(;t===xu;)xu=_a[--va],_a[va]=null,Ou=_a[--va],_a[va]=null;for(;t===Is;)Is=Nn[--Dn],Nn[Dn]=null,Ci=Nn[--Dn],Nn[Dn]=null,Ii=Nn[--Dn],Nn[Dn]=null}var tn=null,lt=null,je=!1,Ns=null,si=!1,nf=Error(s(519));function Ds(t){var i=Error(s(418,""));throw Bo(In(i,t)),nf}function Bg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ft]=t,i[Pt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Ce(hl[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),bo(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),lr(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),du(i,l.value,l.defaultValue,l.children),lr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||r_(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=fc),i=!0):i=!1,i||Ds(t)}function qg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:tn=tn.return}}function jo(t){if(t!==tn)return!1;if(!je)return qg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vd(t.type,t.memoizedProps)),a=!a),a&&lt&&Ds(t),qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Nr(t.type)?(t=bd,bd=null,lt=t):lt=i):lt=tn?Fn(t.stateNode.nextSibling):null;return!0}function zo(){lt=tn=null,je=!1}function Hg(){var t=Ns;return t!==null&&(on===null?on=t:on.push.apply(on,t),Ns=null),t}function Bo(t){Ns===null?Ns=[t]:Ns.push(t)}var rf=W(null),xs=null,Ni=null;function mr(t,i,a){te(rf,i._currentValue),i._currentValue=a}function Di(t){t._currentValue=rf.current,re(rf)}function sf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function af(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),sf(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===kt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&af(i,t,a,l),i.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){xs=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Gg(xs,t)}function Mu(t,i){return xs===null&&Os(t),Gg(t,i)}function Gg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ni=Ni.next=i;return a}var uA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cA=r.unstable_scheduleCallback,hA=r.unstable_NormalPriority,wt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new uA,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&cA(hA,function(){t.controller.abort()})}var Go=null,lf=0,Ea=0,Ta=null;function fA(t,i){if(Go===null){var a=Go=[];lf=0,Ea=cd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,i.then(Fg,Fg),i}function Fg(){if(--lf===0&&Go!==null){Ta!==null&&(Ta.status="fulfilled");var t=Go;Go=null,Ea=0,Ta=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function dA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Qg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fA(t,i),Qg!==null&&Qg(t,i)};var Vs=W(null);function uf(){var t=Vs.current;return t!==null?t:Je.pooledCache}function ku(t,i){i===null?te(Vs,Vs.current):te(Vs,i.pool)}function Kg(){var t=uf();return t===null?null:{parent:wt._currentValue,pool:t}}var Fo=Error(s(460)),Yg=Error(s(474)),Pu=Error(s(542)),cf={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lu(){}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Lu,Lu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zg(t),t;default:if(typeof i.status=="string")i.then(Lu,Lu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Zg(t),t}throw Qo=i,Fo}}var Qo=null;function Wg(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function Zg(t){if(t===Fo||t===Pu)throw Error(s(483))}var gr=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(t),Ug(t,null,a),i}return Cu(t,l,i,a),Nu(t)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}function df(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var mf=!1;function Yo(){if(mf){var t=Ta;if(t!==null)throw t}}function Xo(t,i,a,l){mf=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,j=w.next;w.next=null,v===null?d=j:v.next=j,v=w;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=w))}if(d!==null){var X=h.baseState;v=0,F=j=w=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ve&z)===z:(l&z)===z){z!==0&&z===Ea&&(mf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ye=t,fe=E;z=i;var Ke=a;switch(fe.tag){case 1:if(ye=fe.payload,typeof ye=="function"){X=ye.call(Ke,X,z);break e}X=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=fe.payload,z=typeof ye=="function"?ye.call(Ke,X,z):ye,z==null)break e;X=T({},X,z);break e;case 2:gr=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=B,w=X):F=F.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(w=X),h.baseState=w,h.firstBaseUpdate=j,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),wr|=v,t.lanes=v,t.memoizedState=X}}function Jg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ep(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],i)}var Aa=W(null),Uu=W(0);function tp(t,i){t=Li,te(Uu,t),te(Aa,i),Li=t|i.baseLanes}function gf(){te(Uu,Li),te(Aa,Aa.current)}function pf(){Li=Uu.current,re(Aa),re(Uu)}var _r=0,we=null,Fe=null,_t=null,ju=!1,ba=!1,Ms=!1,zu=0,$o=0,Sa=null,mA=0;function gt(){throw Error(s(321))}function yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function _f(t,i,a,l,h,d){return _r=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Up:jp,Ms=!1,d=a(l,h),Ms=!1,ba&&(d=ip(i,a,l,h)),np(t),d}function np(t){G.H=Qu;var i=Fe!==null&&Fe.next!==null;if(_r=0,_t=Fe=we=null,ju=!1,$o=0,Sa=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Vu(t)&&(Dt=!0))}function ip(t,i,a,l){we=t;var h=0;do{if(ba&&(Sa=null),$o=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,_t=Fe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=TA,d=i(a,l)}while(ba);return d}function gA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(Fe!==null?Fe.memoizedState:null)!==t&&(we.flags|=1024),i}function vf(){var t=zu!==0;return zu=0,t}function Ef(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Tf(t){if(ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ju=!1}_r=0,_t=Fe=we=null,ba=!1,$o=zu=0,Sa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?we.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Fe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var i=_t===null?we.memoizedState:_t.next;if(i!==null)_t=i,Fe=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},_t===null?we.memoizedState=_t=t:_t=_t.next=t}return _t}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=$o;return $o+=1,Sa===null&&(Sa=[]),t=$g(Sa,t,i),i=we,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Up:jp),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===_e)return Qt(t)}throw Error(s(438,String(t)))}function bf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Af(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function xi(t,i){return typeof i=="function"?i(t):i}function qu(t){var i=vt();return Sf(i,Fe,t)}function Sf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,w=null,j=i,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ve&X)===X:(_r&X)===X){var z=j.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ea&&(F=!0);else if((_r&z)===z){j=j.next,z===Ea&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=X,v=d):w=w.next=X,we.lanes|=z,wr|=z;X=j.action,Ms&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else z={lane:X,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=z,v=d):w=w.next=z,we.lanes|=X,wr|=X;j=j.next}while(j!==null&&j!==i);if(w===null?v=d:w.next=E,!cn(d,t.memoizedState)&&(Dt=!0,F&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function rp(t,i,a){var l=we,h=vt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Fe||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var E=op.bind(null,l,h,t);if(Zo(2048,8,E,[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,wa(9,Hu(),ap.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(_r&124)!==0||sp(l,i,a)}return a}function sp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=Af(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ap(t,i,a,l){i.value=a,i.getSnapshot=l,lp(i)&&up(t)}function op(t,i,a){return a(function(){lp(i)&&up(t)})}function lp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function up(t){var i=pa(t,2);i!==null&&pn(i,t,2)}function Rf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ms){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},i}function cp(t,i,a,l){return t.baseState=a,Sf(t,Fe,typeof l=="function"?l:xi)}function pA(t,i,a,l,h){if(Fu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,hp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function hp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var E=a(h,l),w=G.S;w!==null&&w(v,E),fp(t,i,E)}catch(j){If(t,i,j)}finally{G.T=d}}else try{d=a(h,l),fp(t,i,d)}catch(j){If(t,i,j)}}function fp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dp(t,i,l)},function(l){return If(t,i,l)}):dp(t,i,a)}function dp(t,i,a){i.status="fulfilled",i.value=a,mp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,hp(t,a)))}function If(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,mp(i),i=i.next;while(i!==l)}t.action=null}function mp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gp(t,i){return i}function pp(t,i){if(je){var a=Je.formState;if(a!==null){e:{var l=we;if(je){if(lt){t:{for(var h=lt,d=si;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Fn(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:i},a.queue=l,a=kp.bind(null,we,l),l.dispatch=a,l=Rf(!1),d=Of.bind(null,we,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=pA.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function yp(t){var i=vt();return _p(i,Fe,t)}function _p(t,i,a){if(i=Sf(t,i,gp)[0],t=qu(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Wo(i)}catch(v){throw v===Fo?Pu:v}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,wa(9,Hu(),yA.bind(null,h,a),null)),[l,d,t]}function yA(t,i){t.action=i}function vp(t){var i=vt(),a=Fe;if(a!==null)return _p(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=Af(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Ep(){return vt().memoizedState}function Gu(t,i,a,l){var h=sn();l=l===void 0?null:l,we.flags|=t,h.memoizedState=wa(1|i,Hu(),a,l)}function Zo(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Fe!==null&&l!==null&&yf(l,Fe.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(we.flags|=t,h.memoizedState=wa(1|i,d,a,l))}function Tp(t,i){Gu(8390656,8,t,i)}function Ap(t,i){Zo(2048,8,t,i)}function bp(t,i){return Zo(4,2,t,i)}function Sp(t,i){return Zo(4,4,t,i)}function wp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rp(t,i,a){a=a!=null?a.concat([t]):null,Zo(4,4,wp.bind(null,i,t),a)}function Cf(){}function Ip(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Cp(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yf(i,l[1]))return l[0];if(l=t(),Ms){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Nf(t,i,a){return a===void 0||(_r&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xy(),we.lanes|=t,wr|=t,a)}function Np(t,i,a,l){return cn(a,i)?a:Aa.current!==null?(t=Nf(t,a,l),cn(t,i)||(Dt=!0),t):(_r&42)===0?(Dt=!0,t.memoizedState=a):(t=xy(),we.lanes|=t,wr|=t,i)}function Dp(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=G.T,E={};G.T=E,Of(t,!1,i,a);try{var w=h(),j=G.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=dA(w,l);Jo(t,i,F,gn(t))}else Jo(t,i,l,gn(t))}catch(X){Jo(t,i,{then:function(){},status:"rejected",reason:X},gn())}finally{ie.p=d,G.T=v}}function _A(){}function Df(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=xp(t).queue;Dp(t,h,i,ce,a===null?_A:function(){return Op(t),a(l)})}function xp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Op(t){var i=xp(t).next.queue;Jo(t,i,{},gn())}function xf(){return Qt(yl)}function Vp(){return vt().memoizedState}function Mp(){return vt().memoizedState}function vA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();t=pr(a);var l=yr(i,t,a);l!==null&&(pn(l,i,a),Ko(l,i,a)),i={cache:of()},t.payload=i;return}i=i.return}}function EA(t,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Pp(i,a):(a=$h(t,i,a,l),a!==null&&(pn(a,t,l),Lp(a,i,l)))}function kp(t,i,a){var l=gn();Jo(t,i,a,l)}function Jo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Pp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,v))return Cu(t,i,h,0),Je===null&&Iu(),!1}catch{}finally{}if(a=$h(t,i,h,l),a!==null)return pn(a,t,l),Lp(a,i,l),!0}return!1}function Of(t,i,a,l){if(l={lane:2,revertLane:cd(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(i)throw Error(s(479))}else i=$h(t,a,l,2),i!==null&&pn(i,t,2)}function Fu(t){var i=t.alternate;return t===we||i!==null&&i===we}function Pp(t,i){ba=ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Lp(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}var Qu={readContext:Qt,use:Bu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Up={readContext:Qt,use:Bu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Tp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,wp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Gu(4194308,4,t,i)},useInsertionEffect:function(t,i){Gu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ms){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ms){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=EA.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Rf(t);var i=t.queue,a=kp.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,i){var a=sn();return Nf(a,t,i)},useTransition:function(){var t=Rf(!1);return t=Dp.bind(null,we,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=sn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ve&124)!==0||sp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Tp(op.bind(null,l,d,t),[t]),l.flags|=2048,wa(9,Hu(),ap.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=Je.identifierPrefix;if(je){var a=Ci,l=Ii;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=mA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:xf,useFormState:pp,useActionState:pp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Of.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:bf,useCacheRefresh:function(){return sn().memoizedState=vA.bind(null,we)}},jp={readContext:Qt,use:Bu,useCallback:Ip,useContext:Qt,useEffect:Ap,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Cp,useReducer:qu,useRef:Ep,useState:function(){return qu(xi)},useDebugValue:Cf,useDeferredValue:function(t,i){var a=vt();return Np(a,Fe.memoizedState,t,i)},useTransition:function(){var t=qu(xi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:xf,useFormState:yp,useActionState:yp,useOptimistic:function(t,i){var a=vt();return cp(a,Fe,t,i)},useMemoCache:bf,useCacheRefresh:Mp},TA={readContext:Qt,use:Bu,useCallback:Ip,useContext:Qt,useEffect:Ap,useImperativeHandle:Rp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Cp,useReducer:wf,useRef:Ep,useState:function(){return wf(xi)},useDebugValue:Cf,useDeferredValue:function(t,i){var a=vt();return Fe===null?Nf(a,t,i):Np(a,Fe.memoizedState,t,i)},useTransition:function(){var t=wf(xi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:xf,useFormState:vp,useActionState:vp,useOptimistic:function(t,i){var a=vt();return Fe!==null?cp(a,Fe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Mp},Ra=null,el=0;function Ku(t){var i=el;return el+=1,Ra===null&&(Ra=[]),$g(Ra,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yu(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zp(t){var i=t._init;return i(t._payload)}function Bp(t){function i(k,x){if(t){var L=k.deletions;L===null?(k.deletions=[x],k.flags|=16):L.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Ri(k,x),k.index=0,k.sibling=null,k}function d(k,x,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<x?(k.flags|=67108866,x):L):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,L,K){return x===null||x.tag!==6?(x=Zh(L,k.mode,K),x.return=k,x):(x=h(x,L),x.return=k,x)}function w(k,x,L,K){var ae=L.type;return ae===Z?F(k,x,L.props.children,K,L.key):x!==null&&(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===S&&zp(ae)===x.type)?(x=h(x,L.props),tl(x,L),x.return=k,x):(x=Du(L.type,L.key,L.props,null,k.mode,K),tl(x,L),x.return=k,x)}function j(k,x,L,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Jh(L,k.mode,K),x.return=k,x):(x=h(x,L.children||[]),x.return=k,x)}function F(k,x,L,K,ae){return x===null||x.tag!==7?(x=Rs(L,k.mode,K,ae),x.return=k,x):(x=h(x,L),x.return=k,x)}function X(k,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Zh(""+x,k.mode,L),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case N:return L=Du(x.type,x.key,x.props,null,k.mode,L),tl(L,x),L.return=k,L;case H:return x=Jh(x,k.mode,L),x.return=k,x;case S:var K=x._init;return x=K(x._payload),X(k,x,L)}if(tt(x)||P(x))return x=Rs(x,k.mode,L,null),x.return=k,x;if(typeof x.then=="function")return X(k,Ku(x),L);if(x.$$typeof===_e)return X(k,Mu(k,x),L);Yu(k,x)}return null}function z(k,x,L,K){var ae=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:E(k,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ae?w(k,x,L,K):null;case H:return L.key===ae?j(k,x,L,K):null;case S:return ae=L._init,L=ae(L._payload),z(k,x,L,K)}if(tt(L)||P(L))return ae!==null?null:F(k,x,L,K,null);if(typeof L.then=="function")return z(k,x,Ku(L),K);if(L.$$typeof===_e)return z(k,x,Mu(k,L),K);Yu(k,L)}return null}function B(k,x,L,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(x,k,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return k=k.get(K.key===null?L:K.key)||null,w(x,k,K,ae);case H:return k=k.get(K.key===null?L:K.key)||null,j(x,k,K,ae);case S:var Re=K._init;return K=Re(K._payload),B(k,x,L,K,ae)}if(tt(K)||P(K))return k=k.get(L)||null,F(x,k,K,ae,null);if(typeof K.then=="function")return B(k,x,L,Ku(K),ae);if(K.$$typeof===_e)return B(k,x,L,Mu(x,K),ae);Yu(x,K)}return null}function ye(k,x,L,K){for(var ae=null,Re=null,oe=x,de=x=0,Ot=null;oe!==null&&de<L.length;de++){oe.index>de?(Ot=oe,oe=null):Ot=oe.sibling;var Ue=z(k,oe,L[de],K);if(Ue===null){oe===null&&(oe=Ot);break}t&&oe&&Ue.alternate===null&&i(k,oe),x=d(Ue,x,de),Re===null?ae=Ue:Re.sibling=Ue,Re=Ue,oe=Ot}if(de===L.length)return a(k,oe),je&&Cs(k,de),ae;if(oe===null){for(;de<L.length;de++)oe=X(k,L[de],K),oe!==null&&(x=d(oe,x,de),Re===null?ae=oe:Re.sibling=oe,Re=oe);return je&&Cs(k,de),ae}for(oe=l(oe);de<L.length;de++)Ot=B(oe,k,de,L[de],K),Ot!==null&&(t&&Ot.alternate!==null&&oe.delete(Ot.key===null?de:Ot.key),x=d(Ot,x,de),Re===null?ae=Ot:Re.sibling=Ot,Re=Ot);return t&&oe.forEach(function(Mr){return i(k,Mr)}),je&&Cs(k,de),ae}function fe(k,x,L,K){if(L==null)throw Error(s(151));for(var ae=null,Re=null,oe=x,de=x=0,Ot=null,Ue=L.next();oe!==null&&!Ue.done;de++,Ue=L.next()){oe.index>de?(Ot=oe,oe=null):Ot=oe.sibling;var Mr=z(k,oe,Ue.value,K);if(Mr===null){oe===null&&(oe=Ot);break}t&&oe&&Mr.alternate===null&&i(k,oe),x=d(Mr,x,de),Re===null?ae=Mr:Re.sibling=Mr,Re=Mr,oe=Ot}if(Ue.done)return a(k,oe),je&&Cs(k,de),ae;if(oe===null){for(;!Ue.done;de++,Ue=L.next())Ue=X(k,Ue.value,K),Ue!==null&&(x=d(Ue,x,de),Re===null?ae=Ue:Re.sibling=Ue,Re=Ue);return je&&Cs(k,de),ae}for(oe=l(oe);!Ue.done;de++,Ue=L.next())Ue=B(oe,k,de,Ue.value,K),Ue!==null&&(t&&Ue.alternate!==null&&oe.delete(Ue.key===null?de:Ue.key),x=d(Ue,x,de),Re===null?ae=Ue:Re.sibling=Ue,Re=Ue);return t&&oe.forEach(function(Ab){return i(k,Ab)}),je&&Cs(k,de),ae}function Ke(k,x,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:e:{for(var ae=L.key;x!==null;){if(x.key===ae){if(ae=L.type,ae===Z){if(x.tag===7){a(k,x.sibling),K=h(x,L.props.children),K.return=k,k=K;break e}}else if(x.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===S&&zp(ae)===x.type){a(k,x.sibling),K=h(x,L.props),tl(K,L),K.return=k,k=K;break e}a(k,x);break}else i(k,x);x=x.sibling}L.type===Z?(K=Rs(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Du(L.type,L.key,L.props,null,k.mode,K),tl(K,L),K.return=k,k=K)}return v(k);case H:e:{for(ae=L.key;x!==null;){if(x.key===ae)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(k,x.sibling),K=h(x,L.children||[]),K.return=k,k=K;break e}else{a(k,x);break}else i(k,x);x=x.sibling}K=Jh(L,k.mode,K),K.return=k,k=K}return v(k);case S:return ae=L._init,L=ae(L._payload),Ke(k,x,L,K)}if(tt(L))return ye(k,x,L,K);if(P(L)){if(ae=P(L),typeof ae!="function")throw Error(s(150));return L=ae.call(L),fe(k,x,L,K)}if(typeof L.then=="function")return Ke(k,x,Ku(L),K);if(L.$$typeof===_e)return Ke(k,x,Mu(k,L),K);Yu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(k,x.sibling),K=h(x,L),K.return=k,k=K):(a(k,x),K=Zh(L,k.mode,K),K.return=k,k=K),v(k)):a(k,x)}return function(k,x,L,K){try{el=0;var ae=Ke(k,x,L,K);return Ra=null,ae}catch(oe){if(oe===Fo||oe===Pu)throw oe;var Re=hn(29,oe,null,k.mode);return Re.lanes=K,Re.return=k,Re}finally{}}}var Ia=Bp(!0),qp=Bp(!1),xn=W(null),ai=null;function vr(t){var i=t.alternate;te(Rt,Rt.current&1),te(xn,t),ai===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(ai=t)}function Hp(t){if(t.tag===22){if(te(Rt,Rt.current),te(xn,t),ai===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ai=t)}}else Er()}function Er(){te(Rt,Rt.current),te(xn,xn.current)}function Oi(t){re(xn),ai===t&&(ai=null),re(Rt)}var Rt=W(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ad(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=gn(),h=pr(l);h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(pn(i,t,l),Ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=gn(),h=pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yr(t,h,l),i!==null&&(pn(i,t,l),Ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=gn(),l=pr(a);l.tag=2,i!=null&&(l.callback=i),i=yr(t,l,a),i!==null&&(pn(i,t,a),Ko(i,t,a))}};function Gp(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Lo(a,l)||!Lo(h,d):!0}function Fp(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Mf.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qp(t){$u(t)}function Kp(t){console.error(t)}function Yp(t){$u(t)}function Wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xp(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,i,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,i)},a}function $p(t){return t=pr(t),t.tag=3,t}function Wp(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Xp(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ai===null?sd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),od(t,l,h)),!1;case 22:return a.flags|=65536,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),od(t,l,h)),!1}throw Error(s(435,a.tag))}return od(t,l,h),sd(),!1}if(je)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==nf&&(t=Error(s(422),{cause:l}),Bo(In(t,a)))):(l!==nf&&(i=Error(s(423),{cause:l}),Bo(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=kf(t.stateNode,l,h),df(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),ll===null?ll=[d]:ll.push(d),ut!==4&&(ut=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=kf(a.stateNode,l,t),df(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$p(h),Wp(h,t,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var Zp=Error(s(461)),Dt=!1;function Lt(t,i,a,l){i.child=t===null?qp(i,null,a,l):Ia(i,t.child,a,l)}function Jp(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Os(i),l=_f(t,i,a,v,d,h),E=vf(),t!==null&&!Dt?(Ef(t,i,h),Vi(t,i,h)):(je&&E&&ef(i),i.flags|=1,Lt(t,i,l,h),i.child)}function ey(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ty(t,i,d,l,h)):(t=Du(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Hf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(v,l)&&t.ref===i.ref)return Vi(t,i,h)}return i.flags|=1,t=Ri(d,l),t.ref=i.ref,t.return=i,i.child=t}function ty(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Lo(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,Hf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Vi(t,i,h)}return Pf(t,i,a,l,h)}function ny(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return iy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(i,d!==null?d.cachePool:null),d!==null?tp(i,d):gf(),Hp(i);else return i.lanes=i.childLanes=536870912,iy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ku(i,d.cachePool),tp(i,d),Er(),i.memoizedState=null):(t!==null&&ku(i,null),gf(),Er());return Lt(t,i,h,a),i.child}function iy(t,i,a,l){var h=uf();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ku(i,null),gf(),Hp(i),t!==null&&qo(t,i,l,!0),null}function Zu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Pf(t,i,a,l,h){return Os(i),a=_f(t,i,a,l,void 0,h),l=vf(),t!==null&&!Dt?(Ef(t,i,h),Vi(t,i,h)):(je&&l&&ef(i),i.flags|=1,Lt(t,i,a,h),i.child)}function ry(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=ip(i,l,a,h),np(t),l=vf(),t!==null&&!Dt?(Ef(t,i,d),Vi(t,i,d)):(je&&l&&ef(i),i.flags|=1,Lt(t,i,a,d),i.child)}function sy(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=ya,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},hf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):ya,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Mf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,w=ks(a,E);d.props=w;var j=d.context,F=a.contextType;v=ya,typeof F=="object"&&F!==null&&(v=Qt(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==v)&&Fp(i,d,l,v),gr=!1;var z=i.memoizedState;d.state=z,Xo(i,l,d,h),Yo(),j=i.memoizedState,E||z!==j||gr?(typeof X=="function"&&(Vf(i,a,X,l),j=i.memoizedState),(w=gr||Gp(i,a,w,l,z,j,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ff(t,i),v=i.memoizedProps,F=ks(a,v),d.props=F,X=i.pendingProps,z=d.context,j=a.contextType,w=ya,typeof j=="object"&&j!==null&&(w=Qt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==w)&&Fp(i,d,l,w),gr=!1,z=i.memoizedState,d.state=z,Xo(i,l,d,h),Yo();var B=i.memoizedState;v!==X||z!==B||gr||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Vf(i,a,E,l),B=i.memoizedState),(F=gr||Gp(i,a,F,l,z,B,w)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=w,l=F):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ia(i,t.child,null,h),i.child=Ia(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Vi(t,i,h),t}function ay(t,i,a,l){return zo(),i.flags|=256,Lt(t,i,a,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Kg()}}function jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function oy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?vr(i):Er(),je){var E=lt,w;if(w=E){e:{for(w=E,E=si;w.nodeType!==8;){if(!E){E=null;break e}if(w=Fn(w.nextSibling),w===null){E=null;break e}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:Is!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},w=hn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,tn=i,lt=null,w=!0):w=!1}w||Ds(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ad(E)?i.lanes=32:i.lanes=536870912,null;Oi(i)}return E=l.children,l=l.fallback,h?(Er(),h=i.mode,E=Ju({mode:"hidden",children:E},h),l=Rs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Uf(a),h.childLanes=jf(t,v,a),i.memoizedState=Lf,l):(vr(i),zf(i,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(vr(i),i.flags&=-257,i=Bf(t,i,a)):i.memoizedState!==null?(Er(),i.child=t.child,i.flags|=128,i=null):(Er(),h=l.fallback,E=i.mode,l=Ju({mode:"visible",children:l.children},E),h=Rs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ia(i,t.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=jf(t,v,a),i.memoizedState=Lf,i=h);else if(vr(i),Ad(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Bo({value:l,source:null,stack:null}),i=Bf(t,i,a)}else if(Dt||qo(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:Eo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,pa(t,l),pn(v,t,l),Zp;E.data==="$?"||sd(),i=Bf(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,lt=Fn(E.nextSibling),tn=i,je=!0,Ns=null,si=!1,t!==null&&(Nn[Dn++]=Ii,Nn[Dn++]=Ci,Nn[Dn++]=Is,Ii=t.id,Ci=t.overflow,Is=i),i=zf(i,l.children),i.flags|=4096);return i}return h?(Er(),h=l.fallback,E=i.mode,w=t.child,j=w.sibling,l=Ri(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?h=Ri(j,h):(h=Rs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=Uf(a):(w=E.cachePool,w!==null?(j=wt._currentValue,w=w.parent!==j?{parent:j,pool:j}:w):w=Kg(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=jf(t,v,a),i.memoizedState=Lf,l):(vr(i),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function zf(t,i){return i=Ju({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ju(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bf(t,i,a){return Ia(i,t.child,null,a),t=zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ly(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),sf(t.return,i,a)}function qf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function uy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,a,i);else if(t.tag===19)ly(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qf(i,!0,a,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function bA(t,i,a){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),mr(i,wt,t.memoizedState.cache),zo();break;case 27:case 5:po(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?oy(t,i,a):(vr(i),t=Vi(t,i,a),t!==null?t.sibling:null);vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return uy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,ny(t,i,a);case 24:mr(i,wt,t.memoizedState.cache)}return Vi(t,i,a)}function cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Hf(t,a)&&(i.flags&128)===0)return Dt=!1,bA(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,je&&(i.flags&1048576)!==0&&zg(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Wh(l)?(t=ks(l,t),i.tag=1,i=sy(null,i,l,t,a)):(i.tag=0,i=Pf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Xe){i.tag=11,i=Jp(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=ey(null,i,l,t,a);break e}}throw i=ot(l)||l,Error(s(306,i,""))}}return i;case 0:return Pf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),sy(t,i,l,h,a);case 3:e:{if(He(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ff(t,i),Xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,mr(i,wt,l),l!==d.cache&&af(i,[wt],a,!0),Yo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ay(t,i,l,a);break e}else if(l!==h){h=In(Error(s(424)),i),Bo(h),i=ay(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Fn(t.firstChild),tn=i,je=!0,Ns=null,si=!0,a=qp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),l===h){i=Vi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return Zu(t,i),t===null?(a=m_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=dc(pe.current).createElement(a),l[ft]=i,l[Pt]=t,jt(l,a,t),dt(l),i.stateNode=l):i.memoizedState=m_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return po(i),t===null&&je&&(l=i.stateNode=h_(i.type,i.pendingProps,pe.current),tn=i,si=!0,h=lt,Nr(i.type)?(bd=h,lt=Fn(l.firstChild)):lt=h),Lt(t,i,i.pendingProps.children,a),Zu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=lt)&&(l=WA(l,i.type,i.pendingProps,si),l!==null?(i.stateNode=l,tn=i,lt=Fn(l.firstChild),si=!1,h=!0):h=!1),h||Ds(i)),po(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,vd(h,d)?l=null:v!==null&&vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(t,i,gA,null,null,a),yl._currentValue=h),Zu(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=lt)&&(a=ZA(a,i.pendingProps,si),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||Ds(i)),null;case 13:return oy(t,i,a);case 4:return He(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ia(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return Jp(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mr(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Qt(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return ey(t,i,i.type,i.pendingProps,a);case 15:return ty(t,i,i.type,i.pendingProps,a);case 19:return uy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Ju(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ny(t,i,a);case 24:return Os(i),l=Qt(wt),t===null?(h=uf(),h===null&&(h=Je,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},hf(i),mr(i,wt,h)):((t.lanes&a)!==0&&(ff(t,i),Xo(i,null,null,a),Yo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mr(i,wt,l)):(l=d.cache,mr(i,wt,l),l!==h.cache&&af(i,[wt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Mi(t){t.flags|=4}function hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(i)){if(i=xn.current,i!==null&&((Ve&4194048)===Ve?ai!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||i!==ai))throw Qo=cf,Yg;t.flags|=8192}}function ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?tr():536870912,t.lanes|=i,xa|=i)}function nl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function SA(t,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(wt),kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(jo(i)?Mi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hg())),rt(i),null;case 26:return a=i.memoizedState,t===null?(Mi(i),a!==null?(rt(i),hy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Mi(i),rt(i),hy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Mi(i),rt(i),i.flags&=-16777217),null;case 27:$s(i),a=pe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=le.current,jo(i)?Bg(i):(t=h_(h,l,a),i.stateNode=t,Mi(i))}return rt(i),null;case 5:if($s(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=le.current,jo(i))Bg(i);else{switch(h=dc(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ft]=i,t[Pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mi(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,jo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ft]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,a)),t||Ds(i)}else t=dc(t).createTextNode(l),t[ft]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=jo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ft]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ec(i,i.updateQueue),rt(i),null;case 4:return kn(),t===null&&md(i.stateNode.containerInfo),rt(i),null;case 10:return Di(i.type),rt(i),null;case 19:if(re(Rt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)nl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xu(t),d!==null){for(i.flags|=128,nl(h,!1),t=d.updateQueue,i.updateQueue=t,ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jg(a,t),a=a.sibling;return te(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>ic&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Xu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ec(i,t),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return rt(i),null}else 2*rn()-h.renderingStartTime>ic&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=Rt.current,te(Rt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Oi(i),pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&re(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Di(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wA(t,i){switch(tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Di(wt),kn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 13:if(Oi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return re(Rt),null;case 4:return kn(),null;case 10:return Di(i.type),null;case 22:case 23:return Oi(i),pf(),t!==null&&re(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Di(wt),null;case 25:return null;default:return null}}function fy(t,i){switch(tf(i),i.tag){case 3:Di(wt),kn();break;case 26:case 27:case 5:$s(i);break;case 4:kn();break;case 13:Oi(i);break;case 19:re(Rt);break;case 10:Di(i.type);break;case 22:case 23:Oi(i),pf(),t!==null&&re(Vs);break;case 24:Di(wt)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function Tr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a,j=E;try{j()}catch(F){$e(h,w,F)}}}l=l.next}while(l!==d)}}catch(F){$e(i,i.return,F)}}function dy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ep(i,a)}catch(l){$e(t,t.return,l)}}}function my(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function gy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Gf(t,i,a){try{var l=t.stateNode;QA(l,t.type,a,i),l[Pt]=i}catch(h){$e(t,t.return,h)}}function py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=fc));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Qf(t,i,a),t=t.sibling;t!==null;)Qf(t,i,a),t=t.sibling}function tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,i,a),t=t.sibling;t!==null;)tc(t,i,a),t=t.sibling}function yy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[ft]=t,i[Pt]=a}catch(d){$e(t,t.return,d)}}var ki=!1,pt=!1,Kf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,xt=null;function RA(t,i){if(t=t.containerInfo,yd=vc,t=Ng(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,w=-1,j=0,F=0,X=t,z=null;t:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(w=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===t)break t;if(z===a&&++j===h&&(E=v),z===d&&++F===l&&(w=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:t,selectionRange:a},vc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(fe){$e(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Td(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function vy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),l&4&&il(5,a);break;case 1:if(Ar(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){$e(a,a.return,v)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$e(a,a.return,v)}}l&64&&dy(a),l&512&&rl(a,a.return);break;case 3:if(Ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ep(t,i)}catch(v){$e(a,a.return,v)}}break;case 27:i===null&&l&4&&yy(a);case 26:case 5:Ar(t,a),i===null&&l&4&&gy(a),l&512&&rl(a,a.return);break;case 12:Ar(t,a);break;case 13:Ar(t,a),l&4&&Ay(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kA.bind(null,a),JA(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||pt,h=ki;var d=pt;ki=l,(pt=i)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),ki=h,pt=d}break;case 30:break;default:Ar(t,a)}}function Ey(t){var i=t.alternate;i!==null&&(t.alternate=null,Ey(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,an=!1;function Pi(t,i,a){for(a=a.child;a!==null;)Ty(t,i,a),a=a.sibling}function Ty(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 26:pt||oi(a,i),Pi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||oi(a,i);var l=nt,h=an;Nr(a.type)&&(nt=a.stateNode,an=!1),Pi(t,i,a),dl(a.stateNode),nt=l,an=h;break;case 5:pt||oi(a,i);case 6:if(l=nt,h=an,nt=null,Pi(t,i,a),nt=l,an=h,nt!==null)if(an)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:nt!==null&&(an?(t=nt,u_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):u_(nt,a.stateNode));break;case 4:l=nt,h=an,nt=a.stateNode.containerInfo,an=!0,Pi(t,i,a),nt=l,an=h;break;case 0:case 11:case 14:case 15:pt||Tr(2,a,i),pt||Tr(4,a,i),Pi(t,i,a);break;case 1:pt||(oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&my(a,i,l)),Pi(t,i,a);break;case 21:Pi(t,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Pi(t,i,a),pt=l;break;default:Pi(t,i,a)}}function Ay(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){$e(i,i.return,a)}}function IA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _y),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _y),i;default:throw Error(s(435,t.tag))}}function Yf(t,i){var a=IA(t);i.forEach(function(l){var h=PA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){nt=E.stateNode,an=!1;break e}break;case 5:nt=E.stateNode,an=!1;break e;case 3:case 4:nt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(nt===null)throw Error(s(160));Ty(d,v,h),nt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)by(i,t),i=i.sibling}var Gn=null;function by(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Tr(3,t,t.return),il(3,t),Tr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(pt||a===null||oi(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(fn(i,t),dn(t),l&512&&(pt||a===null||oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[ft]=t,dt(d),l=d;break e;case"link":var v=y_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=y_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=t,dt(d),l=d}t.stateNode=l}else __(h,t.type,t.stateNode);else t.stateNode=p_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?__(h,t.type,t.stateNode):p_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(pt||a===null||oi(a,a.return)),a!==null&&l&4&&Gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(pt||a===null||oi(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(B){$e(t,t.return,B)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){$e(t,t.return,B)}}break;case 3:if(pc=null,h=Gn,Gn=mc(i.containerInfo),fn(i,t),Gn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(B){$e(t,t.return,B)}Kf&&(Kf=!1,Sy(t));break;case 4:l=Gn,Gn=mc(t.stateNode.containerInfo),fn(i,t),dn(t),Gn=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ed=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yf(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=ki,F=pt;if(ki=j||h,pt=F||w,fn(i,t),pt=F,ki=j,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||ki||pt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$e(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){$e(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yf(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(py(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ff(t);tc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var E=Ff(t);tc(t,E,v);break;case 3:case 4:var w=a.stateNode.containerInfo,j=Ff(t);Qf(t,j,w);break;default:throw Error(s(161))}}catch(F){$e(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Sy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vy(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),Ps(i);break;case 1:oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&my(i,i.return,a),Ps(i);break;case 27:dl(i.stateNode);case 26:case 5:oi(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),il(4,d);break;case 1:if(br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$e(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Jg(w[h],E)}catch(j){$e(l,l.return,j)}}a&&v&64&&dy(d),rl(d,d.return);break;case 27:yy(d);case 26:case 5:br(h,d,a),a&&l===null&&v&4&&gy(d),rl(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&Ay(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),rl(d,d.return);break;case 30:break;default:br(h,d,a)}i=i.sibling}}function Xf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function $f(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(t,i,a,l),i=i.sibling}function wy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),h&2048&&il(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){li(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$e(i,i.return,w)}}else li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,l):sl(t,i):d._visibility&2?li(t,i,a,l):(d._visibility|=2,Ca(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Xf(v,i);break;case 24:li(t,i,a,l),h&2048&&$f(i.alternate,i);break;default:li(t,i,a,l)}}function Ca(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,w=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ca(d,v,E,w,h),il(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ca(d,v,E,w,h):sl(d,v):(F._visibility|=2,Ca(d,v,E,w,h)),h&&j&2048&&Xf(v.alternate,v);break;case 24:Ca(d,v,E,w,h),h&&j&2048&&$f(v.alternate,v);break;default:Ca(d,v,E,w,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&Xf(l.alternate,l);break;case 24:sl(a,l),h&2048&&$f(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function Na(t){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 26:Na(t),t.flags&al&&t.memoizedState!==null&&fb(Gn,t.memoizedState,t.memoizedProps);break;case 5:Na(t);break;case 3:case 4:var i=Gn;Gn=mc(t.stateNode.containerInfo),Na(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,Na(t),al=i):Na(t));break;default:Na(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Ny(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,nc(t)):ol(t);break;default:ol(t)}}function nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Ny(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,nc(i));break;default:nc(i)}t=t.sibling}}function Ny(t,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=t;xt!==null;){l=xt;var h=l.sibling,d=l.return;if(Ey(l),l===a){xt=null;break e}if(h!==null){h.return=d,xt=h;break e}xt=d}}}var CA={getCacheForType:function(t){var i=Qt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},NA=typeof WeakMap=="function"?WeakMap:Map,Be=0,Je=null,Ie=null,Ve=0,qe=0,mn=null,Sr=!1,Da=!1,Wf=!1,Li=0,ut=0,wr=0,Ls=0,Zf=0,On=0,xa=0,ll=null,on=null,Jf=!1,ed=0,ic=1/0,rc=null,Rr=null,Ut=0,Ir=null,Oa=null,Va=0,td=0,nd=null,Dy=null,ul=0,id=null;function gn(){if((Be&2)!==0&&Ve!==0)return Ve&-Ve;if(G.T!==null){var t=Ea;return t!==0?t:cd()}return vi()}function xy(){On===0&&(On=(Ve&536870912)===0||je?vo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),On}function pn(t,i,a){(t===Je&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Cr(t,Ve,On,!1)),ht(t,a),((Be&2)===0||t!==Je)&&(t===Je&&((Be&2)===0&&(Ls|=a),ut===4&&Cr(t,Ve,On,!1)),ui(t))}function Oy(t,i,a){if((Be&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||er(t,i),h=l?OA(t,i):ad(t,i,!0),d=l;do{if(h===0){Da&&!l&&Cr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!DA(a)){h=ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=ll;var w=E.current.memoizedState.isDehydrated;if(w&&(Ma(E,v).flags|=256),v=ad(E,v,!1),v!==2){if(Wf&&!w){E.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Cr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Cr(l,i,On,!Sr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ed+300-rn(),10<h)){if(Cr(l,i,On,!Sr),bn(l,0,!0)!==0)break e;l.timeoutHandle=o_(Vy.bind(null,l,a,on,rc,Jf,i,On,Ls,xa,Sr,d,2,-0,0),h);break e}Vy(l,a,on,rc,Jf,i,On,Ls,xa,Sr,d,0,-0,0)}}break}while(!0);ui(t)}function Vy(t,i,a,l,h,d,v,E,w,j,F,X,z,B){if(t.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:hb},Ry(i),X=db(),X!==null)){t.cancelPendingCommit=X(zy.bind(null,t,i,d,a,l,h,v,E,w,F,1,z,B)),Cr(t,d,v,!j);return}zy(t,i,d,a,l,h,v,E,w)}function DA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cr(t,i,a,l){i&=~Zf,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&nr(t,a,i)}function sc(){return(Be&6)===0?(cl(0),!1):!0}function rd(){if(Ie!==null){if(qe===0)var t=Ie.return;else t=Ie,Ni=xs=null,Tf(t),Ra=null,el=0,t=Ie;for(;t!==null;)fy(t.alternate,t),t=t.return;Ie=null}}function Ma(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rd(),Je=t,Ie=a=Ri(t.current,null),Ve=i,qe=0,mn=null,Sr=!1,Da=er(t,i),Wf=!1,xa=On=Zf=Ls=wr=ut=0,on=ll=null,Jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return Li=i,Iu(),a}function My(t,i){we=null,G.H=Qu,i===Fo||i===Pu?(i=Wg(),qe=3):i===Yg?(i=Wg(),qe=4):qe=i===Zp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ie===null&&(ut=1,Wu(t,In(i,t.current)))}function ky(){var t=G.H;return G.H=Qu,t===null?Qu:t}function Py(){var t=G.A;return G.A=CA,t}function sd(){ut=4,Sr||(Ve&4194048)!==Ve&&xn.current!==null||(Da=!0),(wr&134217727)===0&&(Ls&134217727)===0||Je===null||Cr(Je,Ve,On,!1)}function ad(t,i,a){var l=Be;Be|=2;var h=ky(),d=Py();(Je!==t||Ve!==i)&&(rc=null,Ma(t,i)),i=!1;var v=ut;e:do try{if(qe!==0&&Ie!==null){var E=Ie,w=mn;switch(qe){case 8:rd(),v=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var j=qe;if(qe=0,mn=null,ka(t,E,w,j),a&&Da){v=0;break e}break;default:j=qe,qe=0,mn=null,ka(t,E,w,j)}}xA(),v=ut;break}catch(F){My(t,F)}while(!0);return i&&t.shellSuspendCounter++,Ni=xs=null,Be=l,G.H=h,G.A=d,Ie===null&&(Je=null,Ve=0,Iu()),v}function xA(){for(;Ie!==null;)Ly(Ie)}function OA(t,i){var a=Be;Be|=2;var l=ky(),h=Py();Je!==t||Ve!==i?(rc=null,ic=rn()+500,Ma(t,i)):Da=er(t,i);e:do try{if(qe!==0&&Ie!==null){i=Ie;var d=mn;t:switch(qe){case 1:qe=0,mn=null,ka(t,i,d,1);break;case 2:case 9:if(Xg(d)){qe=0,mn=null,Uy(i);break}i=function(){qe!==2&&qe!==9||Je!==t||(qe=7),ui(t)},d.then(i,i);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Xg(d)?(qe=0,mn=null,Uy(i)):(qe=0,mn=null,ka(t,i,d,7));break;case 5:var v=null;switch(Ie.tag){case 26:v=Ie.memoizedState;case 5:case 27:var E=Ie;if(!v||v_(v)){qe=0,mn=null;var w=E.sibling;if(w!==null)Ie=w;else{var j=E.return;j!==null?(Ie=j,ac(j)):Ie=null}break t}}qe=0,mn=null,ka(t,i,d,5);break;case 6:qe=0,mn=null,ka(t,i,d,6);break;case 8:rd(),ut=6;break e;default:throw Error(s(462))}}VA();break}catch(F){My(t,F)}while(!0);return Ni=xs=null,G.H=l,G.A=h,Be=a,Ie!==null?0:(Je=null,Ve=0,Iu(),ut)}function VA(){for(;Ie!==null&&!Vh();)Ly(Ie)}function Ly(t){var i=cy(t.alternate,t,Li);t.memoizedProps=t.pendingProps,i===null?ac(t):Ie=i}function Uy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ry(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=ry(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Tf(i);default:fy(a,i),i=Ie=jg(i,Li),i=cy(a,i,Li)}t.memoizedProps=t.pendingProps,i===null?ac(t):Ie=i}function ka(t,i,a,l){Ni=xs=null,Tf(i),Ra=null,el=0;var h=i.return;try{if(AA(t,h,i,a,Ve)){ut=1,Wu(t,In(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ut=1,Wu(t,In(a,t.current)),Ie=null;return}i.flags&32768?(je||l===1?t=!0:Da||(Ve&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,t)):ac(i)}function ac(t){var i=t;do{if((i.flags&32768)!==0){jy(i,Sr);return}t=i.return;var a=SA(i.alternate,i,Li);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ut===0&&(ut=5)}function jy(t,i){do{var a=wA(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ut=6,Ie=null}function zy(t,i,a,l,h,d,v,E,w){t.cancelPendingCommit=null;do oc();while(Ut!==0);if((Be&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Xh,cu(t,a,d,v,E,w),t===Je&&(Ie=Je=null,Ve=0),Oa=i,Ir=t,Va=a,td=d,nd=h,Dy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LA(_i,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,v=Be,Be|=4;try{RA(t,i,a)}finally{Be=v,ie.p=h,G.T=l}}Ut=1,By(),qy(),Hy()}}function By(){if(Ut===1){Ut=0;var t=Ir,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Be;Be|=4;try{by(i,t);var d=_d,v=Ng(t.containerInfo),E=d.focusedElem,w=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Cg(E.ownerDocument.documentElement,E)){if(w!==null&&Gh(E)){var j=w.start,F=w.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),ye=E.textContent.length,fe=Math.min(w.start,ye),Ke=w.end===void 0?fe:Math.min(w.end,ye);!B.extend&&fe>Ke&&(v=Ke,Ke=fe,fe=v);var k=Ig(E,fe),x=Ig(E,Ke);if(k&&x&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==x.node||B.focusOffset!==x.offset)){var L=X.createRange();L.setStart(k.node,k.offset),B.removeAllRanges(),fe>Ke?(B.addRange(L),B.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),B.addRange(L))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!yd,_d=yd=null}finally{Be=h,ie.p=l,G.T=a}}t.current=i,Ut=2}}function qy(){if(Ut===2){Ut=0;var t=Ir,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Be;Be|=4;try{vy(t,i.alternate,i)}finally{Be=h,ie.p=l,G.T=a}}Ut=3}}function Hy(){if(Ut===4||Ut===3){Ut=0,yo();var t=Ir,i=Oa,a=Va,l=Dy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Oa=Ir=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),To(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{G.T=i,ie.p=h}}(Va&3)!==0&&oc(),ui(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===id?ul++:(ul=0,id=t):ul=0,cl(0)}}function Gy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function oc(t){return By(),qy(),Hy(),Fy()}function Fy(){if(Ut!==5)return!1;var t=Ir,i=td;td=0;var a=To(Va),l=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=nd,nd=null;var d=Ir,v=Va;if(Ut=0,Oa=Ir=null,Va=0,(Be&6)!==0)throw Error(s(331));var E=Be;if(Be|=4,Cy(d.current),wy(d,d.current,v,a),Be=E,cl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zi,d)}catch{}return!0}finally{ie.p=h,G.T=l,Gy(t,i)}}function Qy(t,i,a){i=In(a,i),i=kf(t.stateNode,i,2),t=yr(t,i,2),t!==null&&(ht(t,2),ui(t))}function $e(t,i,a){if(t.tag===3)Qy(t,t,a);else for(;i!==null;){if(i.tag===3){Qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=In(a,t),a=$p(2),l=yr(i,a,2),l!==null&&(Wp(a,l,i,t),ht(l,2),ui(l));break}}i=i.return}}function od(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Wf=!0,h.add(a),t=MA.bind(null,t,i,a),i.then(t,t))}function MA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ve&a)===a&&(ut===4||ut===3&&(Ve&62914560)===Ve&&300>rn()-ed?(Be&2)===0&&Ma(t,0):Zf|=a,xa===Ve&&(xa=0)),ui(t)}function Ky(t,i){i===0&&(i=tr()),t=pa(t,i),t!==null&&(ht(t,i),ui(t))}function kA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ky(t,a)}function PA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ky(t,a)}function LA(t,i){return ns(t,i)}var lc=null,Pa=null,ld=!1,uc=!1,ud=!1,Us=0;function ui(t){t!==Pa&&t.next===null&&(Pa===null?lc=Pa=t:Pa=Pa.next=t),uc=!0,ld||(ld=!0,jA())}function cl(t,i){if(!ud&&uc){ud=!0;do for(var a=!1,l=lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Wy(l,d))}else d=Ve,d=bn(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||er(l,d)||(a=!0,Wy(l,d));l=l.next}while(a);ud=!1}}function UA(){Yy()}function Yy(){uc=ld=!1;var t=0;Us!==0&&(KA()&&(t=Us),Us=0);for(var i=rn(),a=null,l=lc;l!==null;){var h=l.next,d=Xy(l,i);d===0?(l.next=null,a===null?lc=h:a.next=h,h===null&&(Pa=a)):(a=l,(t!==0||(d&3)!==0)&&(uc=!0)),l=h}cl(t)}function Xy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Wt(d),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Js(E,i)):w<=i&&(t.expiredLanes|=E),d&=~E}if(i=Je,a=Ve,a=bn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||er(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Zs(l),To(a)){case 2:case 8:a=Ct;break;case 32:a=_i;break;case 268435456:a=_o;break;default:a=_i}return l=$y.bind(null,t),a=ns(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Zs(l),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oc()&&t.callbackNode!==a)return null;var l=Ve;return l=bn(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Oy(t,l,i),Xy(t,rn()),t.callbackNode!=null&&t.callbackNode===a?$y.bind(null,t):null)}function Wy(t,i){if(oc())return null;Oy(t,i,!0)}function jA(){XA(function(){(Be&6)!==0?ns(bt,UA):Yy()})}function cd(){return Us===0&&(Us=vo()),Us}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Jy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function zA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Zy((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?Zy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new ys("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var w=v?Jy(h,v):new FormData(h);Df(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?Jy(h,v):new FormData(h),Df(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],BA=fd.toLowerCase(),qA=fd[0].toUpperCase()+fd.slice(1);Hn(BA,"on"+qA)}Hn(Og,"onAnimationEnd"),Hn(Vg,"onAnimationIteration"),Hn(Mg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(sA,"onTransitionRun"),Hn(aA,"onTransitionStart"),Hn(oA,"onTransitionCancel"),Hn(kg,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function e_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(F){$u(F)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,j=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(F){$u(F)}h.currentTarget=null,d=w}}}}function Ce(t,i){var a=i[rs];a===void 0&&(a=i[rs]=new Set);var l=t+"__bubble";a.has(l)||(t_(i,t,2,!1),a.add(l))}function dd(t,i,a){var l=0;i&&(l|=4),t_(a,t,l,i)}var cc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[cc]){t[cc]=!0,hu.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||dd(a,!1,t),dd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[cc]||(i[cc]=!0,dd("selectionchange",!1,i))}}function t_(t,i,a,l){switch(w_(i)){case 2:var h=pb;break;case 8:h=yb;break;default:h=Cd}a=h.bind(null,i,a,t),h=void 0,!Si||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function gd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Zn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue e}E=E.parentNode}}l=l.return}ms(function(){var j=d,F=Co(a),X=[];e:{var z=Pg.get(t);if(z!==void 0){var B=ys,ye=t;switch(t){case"keypress":if(gs(a)===0)break e;case"keydown":case"keyup":B=fa;break;case"focusin":ye="focus",B=ua;break;case"focusout":ye="blur",B=ua;break;case"beforeblur":case"afterblur":B=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=dr;break;case Og:case Vg:case Mg:B=Do;break;case kg:B=m;break;case"scroll":case"scrollend":B=vs;break;case"wheel":B=A;break;case"copy":case"cut":case"paste":B=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vo;break;case"toggle":case"beforetoggle":B=q}var fe=(i&4)!==0,Ke=!fe&&(t==="scroll"||t==="scrollend"),k=fe?z!==null?z+"Capture":null:z;fe=[];for(var x=j,L;x!==null;){var K=x;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=hr(x,k),K!=null&&fe.push(fl(x,K,L))),Ke)break;x=x.return}0<fe.length&&(z=new B(z,ye,null,a,F),X.push({event:z,listeners:fe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==Io&&(ye=a.relatedTarget||a.fromElement)&&(Zn(ye)||ye[Ei]))break e;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ye=a.relatedTarget||a.toElement,B=j,ye=ye?Zn(ye):null,ye!==null&&(Ke=u(ye),fe=ye.tag,ye!==Ke||fe!==5&&fe!==27&&fe!==6)&&(ye=null)):(B=null,ye=j),B!==ye)){if(fe=As,K="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Vo,K="onPointerLeave",k="onPointerEnter",x="pointer"),Ke=B==null?z:sr(B),L=ye==null?z:sr(ye),z=new fe(K,x+"leave",B,a,F),z.target=Ke,z.relatedTarget=L,K=null,Zn(F)===j&&(fe=new fe(k,x+"enter",ye,a,F),fe.target=L,fe.relatedTarget=Ke,K=fe),Ke=K,B&&ye)t:{for(fe=B,k=ye,x=0,L=fe;L;L=La(L))x++;for(L=0,K=k;K;K=La(K))L++;for(;0<x-L;)fe=La(fe),x--;for(;0<L-x;)k=La(k),L--;for(;x--;){if(fe===k||k!==null&&fe===k.alternate)break t;fe=La(fe),k=La(k)}fe=null}else fe=null;B!==null&&n_(X,z,B,fe,!1),ye!==null&&Ke!==null&&n_(X,Ke,ye,fe,!0)}}e:{if(z=j?sr(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ae=Tg;else if(vg(z))if(Ag)ae=nA;else{ae=eA;var Re=JT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&aa(j.elementType)&&(ae=Tg):ae=tA;if(ae&&(ae=ae(t,j))){Eg(X,ae,a,F);break e}Re&&Re(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&So(z,"number",z.value)}switch(Re=j?sr(j):window,t){case"focusin":(vg(Re)||Re.contentEditable==="true")&&(da=Re,Fh=j,Uo=null);break;case"focusout":Uo=Fh=da=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Dg(X,a,F);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":Dg(X,a,F)}var oe;if(Ae)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else qn?zn(t,a)&&(de="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(mt&&a.locale!=="ko"&&(qn||de!=="onCompositionStart"?de==="onCompositionEnd"&&qn&&(oe=yu()):(Rn=F,Ze="value"in Rn?Rn.value:Rn.textContent,qn=!0)),Re=hc(j,de),0<Re.length&&(de=new Oo(de,t,null,a,F),X.push({event:de,listeners:Re}),oe?de.data=oe:(oe=Bn(a),oe!==null&&(de.data=oe)))),(oe=ze?Mo(t,a):$T(t,a))&&(de=hc(j,"onBeforeInput"),0<de.length&&(Re=new Oo("onBeforeInput","beforeinput",null,a,F),X.push({event:Re,listeners:de}),Re.data=oe)),zA(X,t,j,a,F)}e_(X,i)})}function fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hr(t,a),h!=null&&l.unshift(fl(t,h,d)),h=hr(t,i),h!=null&&l.push(fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||j===null||(w=j,h?(j=hr(a,d),j!=null&&v.unshift(fl(a,j,w))):h||(j=hr(a,d),j!=null&&v.push(fl(a,j,w)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var GA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(GA,`
`).replace(FA,"")}function r_(t,i){return i=i_(i),i_(t)===i}function fc(){}function Qe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":us(t,"class",l);break;case"tabIndex":us(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,a,l);break;case"style":Ro(t,l,d);break;case"data":if(i!=="object"){us(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qe(t,i,"name",h.name,h,null),Qe(t,i,"formEncType",h.formEncType,h,null),Qe(t,i,"formMethod",h.formMethod,h,null),Qe(t,i,"formTarget",h.formTarget,h,null)):(Qe(t,i,"encType",h.encType,h,null),Qe(t,i,"method",h.method,h,null),Qe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fc);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),ls(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ls(t,a,l))}}function pd(t,i,a,l,h,d){switch(a){case"style":Ro(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ls(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,d,v,a,null)}}h&&Qe(t,i,"srcSet",a.srcSet,a,null),l&&Qe(t,i,"src",a.src,a,null);return;case"input":Ce("invalid",t);var E=d=v=h=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Qe(t,i,l,F,a,null)}}bo(t,d,E,w,j,v,h,!1),lr(t);return;case"select":Ce("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Qe(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ur(t,!!l,i,!1):a!=null&&ur(t,!!l,a,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qe(t,i,v,E,a,null)}du(t,l,h,d),lr(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,i,w,l,a,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Ce(hl[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,j,l,a,null)}return;default:if(aa(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&pd(t,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qe(t,i,E,l,a,null))}function QA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,j=null,F=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(B)||Qe(t,i,B,null,l,X)}}for(var z in l){var B=l[z];if(X=a[z],l.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Qe(t,i,z,B,l,X)}}Ao(t,v,E,w,j,F,d,h);return;case"select":B=v=E=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(d)||Qe(t,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Qe(t,i,h,d,l,w)}i=E,a=v,l=B,z!=null?ur(t,!!a,z,!1):!!l!=!!a&&(i!=null?ur(t,!!a,i,!0):ur(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qe(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,i,v,h,l,d)}fu(t,z,B);return;case"option":for(var ye in a)if(z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Qe(t,i,ye,null,l,z)}for(w in l)if(z=l[w],B=a[w],l.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Qe(t,i,w,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&Qe(t,i,fe,null,l,z);for(j in l)if(z=l[j],B=a[j],l.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Qe(t,i,j,z,l,B)}return;default:if(aa(i)){for(var Ke in a)z=a[Ke],a.hasOwnProperty(Ke)&&z!==void 0&&!l.hasOwnProperty(Ke)&&pd(t,i,Ke,void 0,l,z);for(F in l)z=l[F],B=a[F],!l.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||pd(t,i,F,z,l,B);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Qe(t,i,k,null,l,z);for(X in l)z=l[X],B=a[X],!l.hasOwnProperty(X)||z===B||z==null&&B==null||Qe(t,i,X,z,l,B)}var yd=null,_d=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ed=null;function KA(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch($A)}:o_;function $A(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function u_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&dl(v.documentElement),a&2&&dl(v.body),a&4)for(a=v.head,dl(a),v=a.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[rr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(d),Tl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(i)}function Td(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function ZA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function JA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var bd=null;function c_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function h_(t,i,a){switch(i=dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ta(t)}var Vn=new Map,f_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ui=ie.d;ie.d={f:eb,r:tb,D:nb,C:ib,L:rb,m:sb,X:ob,S:ab,M:lb};function eb(){var t=Ui.f(),i=sc();return t||i}function tb(t){var i=Jn(t);i!==null&&i.tag===5&&i.type==="form"?Op(i):Ui.r(t)}var Ua=typeof document>"u"?null:document;function d_(t,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=Nt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),dt(i),l.head.appendChild(i)))}}function nb(t){Ui.D(t),d_("dns-prefetch",t,null)}function ib(t,i){Ui.C(t,i),d_("preconnect",t,i)}function rb(t,i,a){Ui.L(t,i,a);var l=Ua;if(l&&t&&i){var h='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Nt(a.imageSizes)+'"]')):h+='[href="'+Nt(t)+'"]';var d=h;switch(i){case"style":d=ja(t);break;case"script":d=za(t)}Vn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(d))||i==="script"&&l.querySelector(gl(d))||(i=l.createElement("link"),jt(i,"link",t),dt(i),l.head.appendChild(i)))}}function sb(t,i){Ui.m(t,i);var a=Ua;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(t)}if(!Vn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(d)))return}l=a.createElement("link"),jt(l,"link",t),dt(l),a.head.appendChild(l)}}}function ab(t,i,a){Ui.S(t,i,a);var l=Ua;if(l&&t){var h=ar(l).hoistableStyles,d=ja(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(ml(d)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Sd(t,a);var w=v=l.createElement("link");dt(w),jt(w,"link",t),w._p=new Promise(function(j,F){w.onload=j,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function ob(t,i){Ui.X(t,i);var a=Ua;if(a&&t){var l=ar(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=T({src:t,async:!0},i),(i=Vn.get(h))&&wd(t,i),d=a.createElement("script"),dt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lb(t,i){Ui.M(t,i);var a=Ua;if(a&&t){var l=ar(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(gl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&wd(t,i),d=a.createElement("script"),dt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function m_(t,i,a,l){var h=(h=pe.current)?mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ja(a.href);var d=ar(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ml(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||ub(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ja(t){return'href="'+Nt(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),dt(i),t.head.appendChild(i))}function za(t){return'[src="'+Nt(t)+'"]'}function gl(t){return"script[async]"+t}function p_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),jt(l,"style",h),gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ja(a.href);var d=t.querySelector(ml(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=g_(a),(h=Vn.get(h))&&Sd(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),jt(d,"link",l),i.state.loading|=4,gc(d,a.precedence,t),i.instance=d;case"script":return d=za(a.src),(h=t.querySelector(gl(d)))?(i.instance=h,dt(h),h):(l=a,(h=Vn.get(d))&&(l=T({},a),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gc(l,a.precedence,t));return i.instance}function gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Sd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var pc=null;function y_(t,i,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[ft]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function __(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var pl=null;function hb(){}function fb(t,i,a){if(pl===null)throw Error(s(475));var l=pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ja(a.href),d=t.querySelector(ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,a=g_(a),(h=Vn.get(h))&&Sd(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function db(){if(pl===null)throw Error(s(475));var t=pl;return t.stylesheets&&t.count===0&&Rd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Rd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function yc(){if(this.count--,this.count===0){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function Rd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,i.forEach(mb,t),_c=null,yc.call(t))}function mb(t,i){if(!(i.state.loading&4)){var a=_c.get(t);if(a)var l=a.get(null);else{a=new Map,_c.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:_e,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gb(t,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function E_(t,i,a,l,h,d,v,E,w,j,F,X){return t=new gb(t,i,a,v,E,w,j,X),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},hf(d),t}function T_(t){return t?(t=ya,t):ya}function A_(t,i,a,l,h,d){h=T_(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,i),a!==null&&(pn(a,t,i),Ko(a,t,i))}function b_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Id(t,i){b_(t,i),(t=t.alternate)&&b_(t,i)}function S_(t){if(t.tag===13){var i=pa(t,67108864);i!==null&&pn(i,t,67108864),Id(t,67108864)}}var vc=!0;function pb(t,i,a,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=2,Cd(t,i,a,l)}finally{ie.p=d,G.T=h}}function yb(t,i,a,l){var h=G.T;G.T=null;var d=ie.p;try{ie.p=8,Cd(t,i,a,l)}finally{ie.p=d,G.T=h}}function Cd(t,i,a,l){if(vc){var h=Nd(l);if(h===null)gd(t,i,l,Ec,a),R_(t,l);else if(vb(h,t,i,a,l))l.stopPropagation();else if(R_(t,l),i&4&&-1<_b.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Wt(v);E.entanglements[1]|=w,v&=~w}ui(d),(Be&6)===0&&(ic=rn()+500,cl(0))}}break;case 13:E=pa(d,2),E!==null&&pn(E,d,2),sc(),Id(d,2)}if(d=Nd(l),d===null&&gd(t,i,l,Ec,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else gd(t,i,l,null,a)}}function Nd(t){return t=Co(t),Dd(t)}var Ec=null;function Dd(t){if(Ec=null,t=Zn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ec=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ou()){case bt:return 2;case Ct:return 8;case _i:case Mh:return 32;case _o:return 268435456;default:return 32}default:return 32}}var xd=!1,Dr=null,xr=null,Or=null,_l=new Map,vl=new Map,Vr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&S_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function vb(t,i,a,l,h){switch(i){case"focusin":return Dr=El(Dr,t,i,a,l,h),!0;case"dragenter":return xr=El(xr,t,i,a,l,h),!0;case"mouseover":return Or=El(Or,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,t,i,a,l,h)),!0}return!1}function I_(t){var i=Zn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Lh(t.priority,function(){if(a.tag===13){var l=gn();l=Eo(l);var h=pa(a,l);h!==null&&pn(h,a,l),Id(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Io=l,a.target.dispatchEvent(l),Io=null}else return i=Jn(a),i!==null&&S_(i),t.blockedOn=a,!1;i.shift()}return!0}function C_(t,i,a){Tc(t)&&a.delete(i)}function Eb(){xd=!1,Dr!==null&&Tc(Dr)&&(Dr=null),xr!==null&&Tc(xr)&&(xr=null),Or!==null&&Tc(Or)&&(Or=null),_l.forEach(C_),vl.forEach(C_)}function Ac(t,i){t.blockedOn===i&&(t.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eb)))}var bc=null;function N_(t){bc!==t&&(bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===t&&(bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Dd(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(i,3),i-=3,Df(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(t){function i(w){return Ac(w,t)}Dr!==null&&Ac(Dr,t),xr!==null&&Ac(xr,t),Or!==null&&Ac(Or,t),_l.forEach(i),vl.forEach(i);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&Vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||N_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)E=v.formAction;else if(Dd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),N_(a)}}}function Od(t){this._internalRoot=t}Sc.prototype.render=Od.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();A_(a,l,t,i,null,null)},Sc.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;A_(t.current,2,null,t,null,null),sc(),i[Ei]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Vr.length&&i!==0&&i<Vr[a].priority;a++);Vr.splice(a,0,t),a===0&&I_(t)}};var D_=e.version;if(D_!=="19.1.1")throw Error(s(527,D_,"19.1.1"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Zi=wc.inject(Tb),Gt=wc}catch{}}return bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Qp,d=Kp,v=Yp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=E_(t,1,!1,null,null,a,l,h,d,v,E,null),t[Ei]=i.current,md(t),new Od(i)},bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Qp,v=Kp,E=Yp,w=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=E_(t,1,!0,i,a??null,l,h,d,v,E,w,j),i.context=T_(null),a=i.current,l=gn(),l=Eo(l),h=pr(l),h.callback=null,yr(a,h,l),a=l,i.current.lanes=a,ht(i,a),ui(i),t[Ei]=i.current,md(t),new Sc(i)},bl.version="19.1.1",bl}var z_;function Ob(){if(z_)return kd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=xb(),kd.exports}var Vb=Ob();const B_=r=>{let e;const n=new Set,s=(y,T)=>{const b=typeof y=="function"?y(e):y;if(!Object.is(b,e)){const N=e;e=T??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(H=>H(e,N))}},o=()=>e,g={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y))},p=e=r(s,o,g);return g},Mb=r=>r?B_(r):B_,kb=r=>r;function Pb(r,e=kb){const n=$d.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return $d.useDebugValue(n),n}const q_=r=>{const e=Mb(r),n=s=>Pb(e,s);return Object.assign(n,e),n},v0=r=>r?q_(r):q_,Lb=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ub=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|g>>4;let N=(g&15)<<2|y>>6,H=y&63;p||(H=64,f||(N=64)),s.push(n[T],n[b],n[N],n[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(E0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ub(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||y==null||b==null)throw new jb;const N=u<<2|g>>4;if(s.push(N),y!==64){const H=g<<4&240|y>>2;if(s.push(H),b!==64){const Z=y<<6&192|b;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const e=E0(r);return T0.encodeByteArray(e,!0)},qc=function(r){return zb(r).replace(/\./g,"")},A0=function(r){try{return T0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&A0(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return Lb()||qb()||Hb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},b0=r=>ch()?.emulatorHosts?.[r],Fb=r=>{const e=b0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},S0=()=>ch()?.config,w0=r=>ch()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(n)),qc(JSON.stringify(f)),""].join(".")}const Dl={};function Yb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?r.emulator.push(e):r.prod.push(e);return r}function Xb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let G_=!1;function I0(r,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Dl[r]===e||Dl[r]||G_)return;Dl[r]=e;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=Yb().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{G_=!0,f()},N}function T(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=Xb(s),H=n("text"),Z=document.getElementById(H)||document.createElement("span"),ee=n("learnmore"),Y=document.getElementById(ee)||document.createElement("a"),Te=n("preprendIcon"),be=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const _e=N.element;g(_e),T(Y,ee);const Xe=y();p(be,Te),_e.append(be,Z,Y,Xe),document.body.appendChild(_e)}u?(Z.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Wb(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function e1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t1(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function n1(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class Yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=s1,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?a1(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,g,s)}}function a1(r,e){return r.replace(o1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const o1=/\{\$([^}]+)}/g;function l1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(F_(u)&&F_(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Sl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function u1(r,e){const n=new c1(r,e);return n.subscribe.bind(n)}class c1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");h1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(r){return r&&r._delegate?r._delegate:r}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Qb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:d1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(r){return r===js?void 0:r}function m1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const p1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},y1=De.INFO,_1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},v1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=_1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const E1=(r,e)=>e.some(n=>r instanceof n);let Q_,K_;function T1(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Wd=new WeakMap,N0=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function b1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&C0.set(n,r)}).catch(()=>{}),Rm.set(e,r),e}function S1(r){if(Wd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Wd.set(r,e)}let Zd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||N0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function w1(r){Zd=r(Zd)}function R1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Bd(this),e,...n);return N0.set(s,e.sort?e.sort():[e]),Br(s)}:A1().includes(r)?function(...e){return r.apply(Bd(this),e),Br(C0.get(this))}:function(...e){return Br(r.apply(Bd(this),e))}}function I1(r){return typeof r=="function"?R1(r):(r instanceof IDBTransaction&&S1(r),E1(r,T1())?new Proxy(r,Zd):r)}function Br(r){if(r instanceof IDBRequest)return b1(r);if(zd.has(r))return zd.get(r);const e=I1(r);return e!==r&&(zd.set(r,e),Rm.set(e,r)),e}const Bd=r=>Rm.get(r);function C1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Br(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Br(f.result),p.oldVersion,p.newVersion,Br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const N1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],qd=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=D1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||N1.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return qd.set(e,u),u}w1(r=>({...r,get:(e,n,s)=>Y_(e,n)||r.get(e,n,s),has:(e,n)=>!!Y_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function O1(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",X_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new wm("@firebase/app"),V1="@firebase/app-compat",M1="@firebase/analytics-compat",k1="@firebase/analytics",P1="@firebase/app-check-compat",L1="@firebase/app-check",U1="@firebase/auth",j1="@firebase/auth-compat",z1="@firebase/database",B1="@firebase/data-connect",q1="@firebase/database-compat",H1="@firebase/functions",G1="@firebase/functions-compat",F1="@firebase/installations",Q1="@firebase/installations-compat",K1="@firebase/messaging",Y1="@firebase/messaging-compat",X1="@firebase/performance",$1="@firebase/performance-compat",W1="@firebase/remote-config",Z1="@firebase/remote-config-compat",J1="@firebase/storage",eS="@firebase/storage-compat",tS="@firebase/firestore",nS="@firebase/ai",iS="@firebase/firestore-compat",rS="firebase",sS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",aS={[Jd]:"fire-core",[V1]:"fire-core-compat",[k1]:"fire-analytics",[M1]:"fire-analytics-compat",[L1]:"fire-app-check",[P1]:"fire-app-check-compat",[U1]:"fire-auth",[j1]:"fire-auth-compat",[z1]:"fire-rtdb",[B1]:"fire-data-connect",[q1]:"fire-rtdb-compat",[H1]:"fire-fn",[G1]:"fire-fn-compat",[F1]:"fire-iid",[Q1]:"fire-iid-compat",[K1]:"fire-fcm",[Y1]:"fire-fcm-compat",[X1]:"fire-perf",[$1]:"fire-perf-compat",[W1]:"fire-rc",[Z1]:"fire-rc-compat",[J1]:"fire-gcs",[eS]:"fire-gcs-compat",[tS]:"fire-fst",[iS]:"fire-fst-compat",[nS]:"fire-vertex","fire-js":"fire-js",[rS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,oS=new Map,tm=new Map;function $_(r,e){try{r.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const e=r.name;if(tm.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,r);for(const n of Hc.values())$_(n,r);for(const n of oS.values())$_(n,r);return!0}function Im(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Fl("app","Firebase",lS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=sS;function D0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=S0()),!n)throw qr.create("no-options");const u=Hc.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new g1(o);for(const p of tm.values())f.addComponent(p);const g=new uS(n,s,f);return Hc.set(o,g),g}function x0(r=em){const e=Hc.get(r);if(!e&&r===em&&S0())return D0();if(!e)throw qr.create("no-app",{appName:r});return e}function Hr(r,e,n){let s=aS[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(f.join(" "));return}Za(new qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebase-heartbeat-database",hS=1,Ll="firebase-heartbeat-store";let Hd=null;function O0(){return Hd||(Hd=C1(cS,hS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function fS(r){try{const n=(await O0()).transaction(Ll),s=await n.objectStore(Ll).get(V0(r));return await n.done,s}catch(e){if(e instanceof Yi)Hi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(n.message)}}}async function W_(r,e){try{const s=(await O0()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(e,V0(r)),await s.done}catch(n){if(n instanceof Yi)Hi.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(s.message)}}}function V0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1024,mS=30;class gS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>mS){const o=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z_(),{heartbeatsToSend:n,unsentEntries:s}=pS(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Hi.warn(e),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function pS(r,e=dS){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?r1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function _S(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r){Za(new qs("platform-logger",e=>new x1(e),"PRIVATE")),Za(new qs("heartbeat",e=>new gS(e),"PRIVATE")),Hr(Jd,X_,r),Hr(Jd,X_,"esm2020"),Hr("fire-js","")}vS("");function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ES=M0,k0=new Fl("auth","Firebase",M0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new wm("@firebase/auth");function TS(r,...e){Gc.logLevel<=De.WARN&&Gc.warn(`Auth (${lo}): ${r}`,...e)}function Oc(r,...e){Gc.logLevel<=De.ERROR&&Gc.error(`Auth (${lo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw Cm(r,...e)}function fi(r,...e){return Cm(r,...e)}function P0(r,e,n){const s={...ES(),[e]:n};return new Fl("auth","Firebase",s).create(e,{appName:r.name})}function Bi(r){return P0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return k0.create(r,...e)}function ge(r,e,...n){if(!r)throw Cm(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function Gi(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return typeof self<"u"&&self.location?.href||""}function AS(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AS()||Jb()||"connection"in navigator)?navigator.onLine:!0}function SS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=$b()||e1()}get(){return bS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,e){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IS=new Kl(3e4,6e4);function Jr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Xi(r,e,n,s,o={}){return U0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Ql({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return Zb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),L0.fetch()(await j0(r,r.config.apiHost,n,g),y)})}async function U0(r,e,n){r._canInitEmulator=!1;const s={...wS,...e};try{const o=new NS(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Rc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Rc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw P0(r,T,y);Yn(r,T)}}catch(o){if(o instanceof Yi)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function Yl(r,e,n,s,o={}){const u=await Xi(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function j0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Nm(r.config,o):`${r.config.apiScheme}://${o}`;return RS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function CS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),IS.get())})}}function Rc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fi(r,e,s);return o.customData._tokenResponse=n,o}function tv(r){return r!==void 0&&r.enterprise!==void 0}class DS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xS(r,e){return Xi(r,"GET","/v2/recaptchaConfig",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(r,e){return Xi(r,"POST","/v1/accounts:delete",e)}async function Fc(r,e){return Xi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=Dm(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:xl(Gd(o.auth_time)),issuedAtTime:xl(Gd(o.iat)),expirationTime:xl(Gd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gd(r){return Number(r)*1e3}function Dm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=A0(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nv(r){const e=Dm(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yi&&MS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(r){const e=r.auth,n=await r.getIdToken(),s=await Ja(r,Fc(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?z0(o.providerUserInfo):[],f=LS(r.providerData,u),g=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=g?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function PS(r){const e=ct(r);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LS(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function z0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(r,e){const n=await U0(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await j0(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(p.credentials="include"),L0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jS(r,e){return Xi(r,"POST","/v2/accounts:revokeToken",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=nv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await US(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ka;return s&&(ge(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new kS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VS(this,e)}reload(){return PS(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Ja(this,OS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:H,providerData:Z,stsTokenManager:ee}=n;ge(b&&ee,e,"internal-error");const Y=Ka.fromJSON(this.name,ee);ge(typeof b=="string",e,"internal-error"),kr(s,e.name),kr(o,e.name),ge(typeof N=="boolean",e,"internal-error"),ge(typeof H=="boolean",e,"internal-error"),kr(u,e.name),kr(f,e.name),kr(g,e.name),kr(p,e.name),kr(y,e.name),kr(T,e.name);const Te=new Qn({uid:b,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Y,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(Te.providerData=Z.map(be=>({...be}))),p&&(Te._redirectEventId=p),Te}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Qc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?z0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,g=new Ka;g.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function zi(r){Gi(r instanceof Function,"Expected a class definition");let e=iv.get(r);return e?(Gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}B0.type="NONE";const rv=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fc(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ya(zi(rv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||zi(rv);const f=Vc(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let b;if(typeof T=="string"){const N=await Fc(e,{idToken:T}).catch(()=>{});if(!N)break;b=await Qn._fromGetAccountInfoResponse(e,N,T)}else b=Qn._fromJSON(e,T);y!==u&&(g=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ya(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ya(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K0(e))return"Blackberry";if(Y0(e))return"Webos";if(H0(e))return"Safari";if((e.includes("chrome/")||G0(e))&&!e.includes("edge/"))return"Chrome";if(Q0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function q0(r=$t()){return/firefox\//i.test(r)}function H0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G0(r=$t()){return/crios\//i.test(r)}function F0(r=$t()){return/iemobile/i.test(r)}function Q0(r=$t()){return/android/i.test(r)}function K0(r=$t()){return/blackberry/i.test(r)}function Y0(r=$t()){return/webos/i.test(r)}function xm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zS(r=$t()){return xm(r)&&!!window.navigator?.standalone}function BS(){return t1()&&document.documentMode===10}function X0(r=$t()){return xm(r)||Q0(r)||Y0(r)||K0(r)||/windows phone/i.test(r)||F0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r,e=[]){let n;switch(r){case"Browser":n=sv($t());break;case"Worker":n=`${sv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(r,e={}){return Xi(r,"GET","/v2/passwordPolicy",Jr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=6;class FS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new qS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fc(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Bi(this));const n=e?ct(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HS(this),n=new FS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ks(r){return ct(r)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=u1(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KS(r){hh=r}function W0(r){return hh.loadJS(r)}function YS(){return hh.recaptchaEnterpriseScript}function XS(){return hh.gapiScript}function $S(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class WS{constructor(){this.enterprise=new ZS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JS="recaptcha-enterprise",Z0="NO_RECAPTCHA";class ew{constructor(e){this.type=JS,this.auth=Ks(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{xS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new DS(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function o(u,f,g){const p=window.grecaptcha;tv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(Z0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WS().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&tv(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=YS();p.length!==0&&(p+=g),W0(p).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function ov(r,e,n,s=!1,o=!1){const u=new ew(r);let f;if(o)f=Z0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function rm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ov(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ov(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,e){const n=Im(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function nw(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function iw(r,e,n){const s=Ks(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=J0(e),{host:f,port:g}=rw(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Bs(y,s.config.emulator)&&Bs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(f)?(R0(`${u}//${f}${p}`),I0("Auth",!0)):sw()}function J0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rw(r){const e=J0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lv(f)}}}function lv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function aw(r,e){return Xi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e){return Yl(r,"POST","/v1/accounts:signInWithPassword",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}async function uw(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Om{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ul(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,n,"signInWithPassword",ow);case"emailLink":return lw(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,s,"signUpPassword",aw);case"emailLink":return uw(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e){return Yl(r,"POST","/v1/accounts:signInWithIdp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="http://localhost";class Hs extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Hs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fw(r){const e=Sl(wl(r)).link,n=e?Sl(wl(e)).deep_link_id:null,s=Sl(wl(r)).deep_link_id;return(s?Sl(wl(s)).link:null)||s||n||e||r}class Vm{constructor(e){const n=Sl(wl(e)),s=n.apiKey??null,o=n.oobCode??null,u=hw(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fw(e);try{return new Vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vm.parseLink(n);return ge(s,"argument-error"),Ul._fromEmailAndCode(e,s.code,s.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Xl{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Xl{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Xl{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(r,e){return Yl(r,"POST","/v1/accounts:signUp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),f=uv(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=uv(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Yi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Kc(e,n,s,o)}}function tE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,e,s):u})}async function mw(r,e,n=!1){const s=await Ja(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Gs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,e,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Bi(s));const o="reauthenticate";try{const u=await Ja(r,tE(s,o,e,r),n);ge(u.idToken,s,"internal-error");const f=Dm(u.idToken);ge(f,s,"internal-error");const{sub:g}=f;return ge(r.uid===g,s,"user-mismatch"),Gs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(r,e,n=!1){if(Mn(r.app))return Promise.reject(Bi(r));const s="signIn",o=await tE(r,s,e),u=await Gs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function pw(r,e){return nE(Ks(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(r){const e=Ks(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yw(r,e,n){if(Mn(r.app))return Promise.reject(Bi(r));const s=Ks(r),f=await rm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&iE(r),p}),g=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function _w(r,e,n){return Mn(r.app)?Promise.reject(Bi(r)):pw(ct(r),uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,e){return Xi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ct(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Ja(s,vw(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const g=s.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Tw(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function Aw(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function bw(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function Sw(r){return ct(r).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1e3,Rw=10;class sE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);BS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Rw):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sE.type="LOCAL";const Iw=sE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aE.type="SESSION";const oE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await Cw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=Mm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function Dw(r){di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function xw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ow(){return navigator?.serviceWorker?.controller||null}function Vw(){return lE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firebaseLocalStorageDb",Mw=1,Xc="firebaseLocalStorage",cE="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,e){return r.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function kw(){const r=indexedDB.deleteDatabase(uE);return new $l(r).toPromise()}function sm(){const r=indexedDB.open(uE,Mw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xc,{keyPath:cE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xc)?e(s):(s.close(),await kw(),e(await sm()))})})}async function cv(r,e,n){const s=dh(r,!0).put({[cE]:e,value:n});return new $l(s).toPromise()}async function Pw(r,e){const n=dh(r,!1).get(e),s=await new $l(n).toPromise();return s===void 0?null:s.value}function hv(r,e){const n=dh(r,!0).delete(e);return new $l(n).toPromise()}const Lw=800,Uw=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Uw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(Vw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xw(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ow()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await cv(e,Yc,"1"),await hv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Pw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new $l(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const jw=hE;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r,e){return e?zi(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bw(r){return nE(r.auth,new km(r),r.bypassAuthState)}function qw(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),gw(n,new km(r),r.bypassAuthState)}async function Hw(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),mw(n,new km(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return Hw;case"reauthViaPopup":case"reauthViaRedirect":return qw;default:Yn(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Kl(2e3,1e4);class Fa extends fE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gw.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="pendingRedirect",Mc=new Map;class Qw extends fE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const s=await Kw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kw(r,e){const n=$w(e),s=Xw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Yw(r,e){Mc.set(r._key(),e)}function Xw(r){return zi(r._redirectPersistence)}function $w(r){return Vc(Fw,r.config.apiKey,r.name)}async function Ww(r,e,n=!1){if(Mn(r.app))return Promise.reject(Bi(r));const s=Ks(r),o=zw(s,e),f=await new Qw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(e))}saveEventToCache(e){this.cachedEventUids.add(fv(e)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function e2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e={}){return Xi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function r2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await t2(r);for(const n of e)try{if(s2(n))return}catch{}Yn(r,"unauthorized-domain")}function s2(r){const e=nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!i2.test(n))return!1;if(n2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Kl(3e4,6e4);function dv(){const r=di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function o2(r){return new Promise((e,n)=>{function s(){dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dv(),n(fi(r,"network-request-failed"))},timeout:a2.get()})}if(di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(di().gapi?.load)s();else{const o=$S("iframefcb");return di()[o]=()=>{gapi.load?s():n(fi(r,"network-request-failed"))},W0(`${XS()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kc=null,e})}let kc=null;function l2(r){return kc=kc||o2(r),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Kl(5e3,15e3),c2="__/auth/iframe",h2="emulator/auth/iframe",f2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m2(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Nm(e,h2):`https://${r.config.authDomain}/${c2}`,s={apiKey:e.apiKey,appName:r.name,v:lo},o=d2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function g2(r){const e=await l2(r),n=di().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:m2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fi(r,"network-request-failed"),g=di().setTimeout(()=>{u(f)},u2.get());function p(){di().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,_2=600,v2="_blank",E2="http://localhost";class mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(r,e,n,s=y2,o=_2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...p2,width:s.toString(),height:o.toString(),top:u,left:f},y=$t().toLowerCase();n&&(g=G0(y)?v2:n),q0(y)&&(e=e||E2,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[H,Z])=>`${N}${H}=${Z},`,"");if(zS(y)&&g!=="_self")return A2(e||"",g),new mv(null);const b=window.open(e||"",g,T);ge(b,r,"popup-blocked");try{b.focus()}catch{}return new mv(b)}function A2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="__/auth/handler",S2="emulator/auth/handler",w2=encodeURIComponent("fac");async function gv(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:lo,eventId:o};if(e instanceof eE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",l1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Xl){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${w2}=${encodeURIComponent(p)}`:"";return`${R2(r)}?${Ql(g).slice(1)}${y}`}function R2({config:r}){return r.emulator?Nm(r,S2):`https://${r.authDomain}/${b2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class I2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=Ww,this._overrideRedirectResult=Yw}async _openPopup(e,n,s,o){Gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gv(e,n,s,nm(),o);return T2(e,u,Mm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gv(e,n,s,nm(),o);return Dw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await g2(e),s=new Jw(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const u=o?.[0]?.[Fd];u!==void 0&&n(!!u),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X0()||H0()||xm()}}const C2=I2;var pv="@firebase/auth",yv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(r){Za(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(r)},y=new QS(s,o,u,p);return nw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Za(new qs("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(pv,yv,D2(r)),Hr(pv,yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=300,V2=w0("authIdTokenMaxAge")||O2;let _v=null;const M2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V2)return;const o=n?.token;_v!==o&&(_v=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(r=x0()){const e=Im(r,"auth");if(e.isInitialized())return e.getImmediate();const n=tw(r,{popupRedirectResolver:C2,persistence:[jw,Iw,oE]}),s=w0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=M2(u.toString());Aw(n,f,()=>f(n.currentUser)),Tw(n,g=>f(g))}}const o=b0("auth");return o&&iw(n,`http://${o}`),n}function P2(){return document.getElementsByTagName("head")?.[0]??document}KS({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,mE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function I(){}I.prototype=S.prototype,V.F=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.D=function(M,O,P){for(var R=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)R[ot-2]=arguments[ot];return S.prototype[O].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],O=V.g[2];let P=V.g[3],R;R=S+(P^I&(O^P))+M[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(O^S&(I^O))+M[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=O+(I^P&(S^I))+M[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(S^O&(P^S))+M[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(P^I&(O^P))+M[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(O^S&(I^O))+M[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=O+(I^P&(S^I))+M[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(S^O&(P^S))+M[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(P^I&(O^P))+M[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(O^S&(I^O))+M[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=O+(I^P&(S^I))+M[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(S^O&(P^S))+M[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(P^I&(O^P))+M[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=P+(O^S&(I^O))+M[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=O+(I^P&(S^I))+M[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(S^O&(P^S))+M[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(O^P&(I^O))+M[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(S^I))+M[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(P^S))+M[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(O^P))+M[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^P&(I^O))+M[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(S^I))+M[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(P^S))+M[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(O^P))+M[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^P&(I^O))+M[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(S^I))+M[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(P^S))+M[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(O^P))+M[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^P&(I^O))+M[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(S^I))+M[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(P^S))+M[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^S&(O^P))+M[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(I^O^P)+M[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^O)+M[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=O+(P^S^I)+M[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^S)+M[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^P)+M[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^O)+M[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=O+(P^S^I)+M[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^S)+M[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^P)+M[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^O)+M[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=O+(P^S^I)+M[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^S)+M[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^P)+M[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=P+(S^I^O)+M[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=O+(P^S^I)+M[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^S)+M[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(O^(I|~P))+M[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~O))+M[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=O+(S^(P|~I))+M[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~S))+M[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~P))+M[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~O))+M[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=O+(S^(P|~I))+M[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~S))+M[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~P))+M[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~O))+M[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=O+(S^(P|~I))+M[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~S))+M[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~P))+M[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=P+(I^(S|~O))+M[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=O+(S^(P|~I))+M[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~S))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.v=function(V,S){S===void 0&&(S=V.length);const I=S-this.blockSize,M=this.C;let O=this.h,P=0;for(;P<S;){if(O==0)for(;P<=I;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(M[O++]=V.charCodeAt(P++),O==this.blockSize){o(this,M),O=0;break}}else for(;P<S;)if(M[O++]=V[P++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;S=this.o*8;for(var I=V.length-8;I<V.length;++I)V[I]=S&255,S/=256;for(this.v(V),V=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)V[S++]=this.g[I]>>>M&255;return V};function u(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function f(V,S){this.h=S;const I=[];let M=!0;for(let O=V.length-1;O>=0;O--){const P=V[O]|0;M&&P==S||(I[O]=P,M=!1)}this.g=I}var g={};function p(V){return-128<=V&&V<128?u(V,function(S){return new f([S|0],S<0?-1:0)}):new f([V|0],V<0?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(V<0)return Y(y(-V));const S=[];let I=1;for(let M=0;V>=I;M++)S[M]=V/I|0,I*=4294967296;return new f(S,0)}function T(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Y(T(V.substring(1),S));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let M=b;for(let P=0;P<V.length;P+=8){var O=Math.min(8,V.length-P);const R=parseInt(V.substring(P,P+O),S);O<8?(O=y(Math.pow(S,O)),M=M.j(O).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var b=p(0),N=p(1),H=p(16777216);r=f.prototype,r.m=function(){if(ee(this))return-Y(this).m();let V=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);V+=(M>=0?M:4294967296+M)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(ee(this))return"-"+Y(this).toString(V);const S=y(Math.pow(V,6));var I=this;let M="";for(;;){const O=Xe(I,S).g;I=Te(I,O.j(S));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(V);if(I=O,Z(I))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(let S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function ee(V){return V.h==-1}r.l=function(V){return V=Te(this,V),ee(V)?-1:Z(V)?0:1};function Y(V){const S=V.g.length,I=[];for(let M=0;M<S;M++)I[M]=~V.g[M];return new f(I,~V.h).add(N)}r.abs=function(){return ee(this)?Y(this):this},r.add=function(V){const S=Math.max(this.g.length,V.g.length),I=[];let M=0;for(let O=0;O<=S;O++){let P=M+(this.i(O)&65535)+(V.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);M=R>>>16,P&=65535,R&=65535,I[O]=R<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Te(V,S){return V.add(Y(S))}r.j=function(V){if(Z(this)||Z(V))return b;if(ee(this))return ee(V)?Y(this).j(Y(V)):Y(Y(this).j(V));if(ee(V))return Y(this.j(Y(V)));if(this.l(H)<0&&V.l(H)<0)return y(this.m()*V.m());const S=this.g.length+V.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<V.g.length;O++){const P=this.i(M)>>>16,R=this.i(M)&65535,ot=V.i(O)>>>16,tt=V.i(O)&65535;I[2*M+2*O]+=R*tt,be(I,2*M+2*O),I[2*M+2*O+1]+=P*tt,be(I,2*M+2*O+1),I[2*M+2*O+1]+=R*ot,be(I,2*M+2*O+1),I[2*M+2*O+2]+=P*ot,be(I,2*M+2*O+2)}for(V=0;V<S;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=S;V<2*S;V++)I[V]=0;return new f(I,0)};function be(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function _e(V,S){this.g=V,this.h=S}function Xe(V,S){if(Z(S))throw Error("division by zero");if(Z(V))return new _e(b,b);if(ee(V))return S=Xe(Y(V),S),new _e(Y(S.g),Y(S.h));if(ee(S))return S=Xe(V,Y(S)),new _e(Y(S.g),S.h);if(V.g.length>30){if(ee(V)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=S;M.l(V)<=0;)I=ve(I),M=ve(M);var O=Pe(I,1),P=Pe(M,1);for(M=Pe(M,2),I=Pe(I,2);!Z(M);){var R=P.add(M);R.l(V)<=0&&(O=O.add(I),P=R),M=Pe(M,1),I=Pe(I,1)}return S=Te(V,O.j(S)),new _e(O,S)}for(O=b;V.l(S)>=0;){for(I=Math.max(1,Math.floor(V.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=y(I),R=P.j(S);ee(R)||R.l(V)>0;)I-=M,P=y(I),R=P.j(S);Z(P)&&(P=N),O=O.add(P),V=Te(V,R)}return new _e(O,V)}r.B=function(V){return Xe(this,V).h},r.and=function(V){const S=Math.max(this.g.length,V.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&V.i(M);return new f(I,this.h&V.h)},r.or=function(V){const S=Math.max(this.g.length,V.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|V.i(M);return new f(I,this.h|V.h)},r.xor=function(V){const S=Math.max(this.g.length,V.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^V.i(M);return new f(I,this.h^V.h)};function ve(V){const S=V.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=V.i(M)<<1|V.i(M-1)>>>31;return new f(I,V.h)}function Pe(V,S){const I=S>>5;S%=32;const M=V.g.length-I,O=[];for(let P=0;P<M;P++)O[P]=S>0?V.i(P+I)>>>S|V.i(P+I+1)<<32-S:V.i(P+I);return new f(O,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Gr=f}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gE,Rl,pE,Pc,am,yE,_E,vE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,_){return c.call.apply(c.bind,arguments)}function y(c,m,_){return y=p,y.apply(null,arguments)}function T(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,U,q){for(var J=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)J[Ae-2]=arguments[Ae];return m.prototype[U].apply(A,J)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=c.length||0;const q=U.length||0;c.length=_+q;for(let J=0;J<q;J++)c[_+J]=U[J]}else c.push(U)}}class ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(c){f.setTimeout(()=>{throw c},0)}function Te(){var c=V;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,_){const A=_e.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new ee(()=>new Xe,c=>c.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Pe=!1,V=new be,S=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(I)}};function I(){for(var c;c=Te();){try{c.h.call(c.g)}catch(_){Y(_)}var m=_e;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function ot(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}b(ot,O),ot.prototype.init=function(c,m){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(c,m,_,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function D(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function W(c){const m={};for(const _ in c)m[_]=c[_];return m}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let q=0;q<re.length;q++)_=re[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,m,_,A,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const J=pe(c,m,A,U);return J>-1?(m=c[J],_||(m.fa=!1)):(m=new ie(m,this.src,q,!!A,U),m.fa=_,c.push(m)),m};function Ne(c,m){const _=m.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(ce(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function pe(c,m,_,A){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),He={};function kn(c,m,_,A,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)kn(c,m[q],_,A,U);return null}return _=ou(_),c&&c[tt]?c.J(m,_,g(A)?!!A.capture:!1,U):po(c,m,_,!1,A,U)}function po(c,m,_,A,U,q){if(!m)throw Error("Invalid event type");const J=g(U)?!!U.capture:!!U;let Ae=yo(c);if(Ae||(c[kt]=Ae=new le(c)),_=Ae.add(m,_,A,J,q),_.proxy)return _;if(A=$s(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)P||(U=J),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(Zs(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $s(){function c(_){return m.call(c.src,c.listener,_)}const m=Vh;return c}function Ws(c,m,_,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ws(c,m[q],_,A,U);else A=g(A)?!!A.capture:!!A,_=ou(_),c&&c[tt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],_=pe(m,_,A,U),_>-1&&(ce(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=yo(c))&&(m=c.g[m.toString()],c=-1,m&&(c=pe(m,_,A,U)),(_=c>-1?m[c]:null)&&ns(_))}function ns(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[tt])Ne(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Zs(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=yo(m))?(Ne(_,c),_.h==0&&(_.src=null,m[kt]=null)):ce(c)}}}function Zs(c){return c in He?He[c]:He[c]="on"+c}function Vh(c,m){if(c.da)c=!0;else{m=new ot(m,this);const _=c.listener,A=c.ha||c.src;c.fa&&ns(c),c=_.call(A,m)}return c}function yo(c){return c=c[kt],c instanceof le?c:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ou(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(m){return c.handleEvent(m)}),c[rn])}function bt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}b(bt,M),bt.prototype[tt]=!0,bt.prototype.removeEventListener=function(c,m,_,A){Ws(this,c,m,_,A)};function Ct(c,m){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(A,c),te(m,U)}U=!0;let q,J;if(_)for(J=_.length-1;J>=0;J--)q=m.g=_[J],U=_i(q,A,!0,m)&&U;if(q=m.g=c,U=_i(q,A,!0,m)&&U,U=_i(q,A,!1,m)&&U,_)for(J=0;J<_.length;J++)q=m.g=_[J],U=_i(q,A,!1,m)&&U}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let A=0;A<_.length;A++)ce(_[A]);delete c.g[m],c.h--}}this.G=null},bt.prototype.J=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},bt.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function _i(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const J=m[q];if(J&&!J.da&&J.capture==_){const Ae=J.listener,et=J.ha||J.src;J.fa&&Ne(c.i,J),U=Ae.call(et,A)!==!1&&U}}return U&&!A.defaultPrevented}function Mh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function _o(c){c.g=Mh(()=>{c.g=null,c.i&&(c.i=!1,_o(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kh extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){M.call(this),this.h=c,this.g={}}b(is,M);var Zi=[];function Gt(c){Le(c.g,function(m,_){this.g.hasOwnProperty(_)&&ns(m)},c),c.g={}}is.prototype.N=function(){is.Z.N.call(this),Gt(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=f.JSON.stringify,Wt=f.JSON.parse,Ph=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function lu(){}function uu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ji(){O.call(this,"d")}b(Ji,O);function Pn(){O.call(this,"c")}b(Pn,O);var bn={},er=null;function Js(){return er=er||new bt}bn.Ia="serverreachability";function vo(c){O.call(this,bn.Ia,c)}b(vo,O);function tr(c){const m=Js();Ct(m,new vo(m))}bn.STAT_EVENT="statevent";function ea(c,m){O.call(this,bn.STAT_EVENT,c),this.stat=m}b(ea,O);function ht(c){const m=Js();Ct(m,new ea(m,c))}bn.Ja="timingevent";function cu(c,m){O.call(this,bn.Ja,c),this.size=m}b(cu,O);function nr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function Eo(c,m,_,A,U,q){c.info(function(){if(c.g)if(q){var J="",Ae=q.split("&");for(let ze=0;ze<Ae.length;ze++){var et=Ae[ze].split("=");if(et.length>1){const mt=et[0];et=et[1];const un=mt.split("_");J=un.length>=2&&un[1]=="type"?J+(mt+"="+et+"&"):J+(mt+"=redacted&")}}}else J=null;else J=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+J})}function To(c,m,_,A,U,q,J){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+J})}function vi(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wn(c,_)+(A?" "+A:"")})}function Lh(c,m){c.info(function(){return"TIMEOUT: "+m})}ir.prototype.info=function(){};function Wn(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var _=q[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<A.length;J++)A[J]=""}}}}return An(q)}catch{return m}}var ft={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ei;function rs(){}b(rs,lu),rs.prototype.g=function(){return new XMLHttpRequest},Ei=new rs;function ss(c){return encodeURIComponent(String(c))}function Uh(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function Ln(c,m,_,A){this.j=c,this.i=m,this.l=_,this.S=A||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ta={},Zn={};function Jn(c,m,_){c.M=1,c.A=Ai(it(m)),c.u=_,c.R=!0,sr(c,null)}function sr(c,m){c.F=Date.now(),as(c),c.B=it(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),mu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new rr,c.g=ha(c.j,_?m:null,!c.u),c.P>0&&(c.O=new kh(y(c.Y,c,c.g),c.P)),m=c.V,_=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Zi[0]=U.toString()),U=Zi);for(let q=0;q<U.length;q++){const J=kn(_,U[q],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=c.J?W(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),tr(),Eo(c.i,c.v,c.B,c.l,c.S,c.u)}Ln.prototype.ba=function(c){c=c.target;const m=this.O;m&&Ft(c)==3?m.j():this.Y(c)},Ln.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Ft(this.g),et=this.g.ya(),ze=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||ys(this.g)))){this.K||Ae!=4||et==7||(et==8||ze<=0?tr(3):tr(2)),ti(this);var m=this.g.ca();this.X=m;var _=ar(this);if(this.o=m==200,To(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(c=q)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,na(this,c);else{this.o=!1,this.m=3,ht(12),ni(this),os(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=hu(this,_),mt==Zn){Ae==4&&(this.m=4,ht(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==ta){this.m=4,ht(15),vi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,mt,null),na(this,mt);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,_,"[Invalid Chunked Response]"),ni(this),os(this);else if(_.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xo(J),J.P=!0,ht(11))}}else vi(this.i,this.l,_,null),na(this,_);Ae==4&&ni(this),this.o&&!this.K&&(Ae==4?Oo(this.j,this):(this.o=!1,as(this)))}else _s(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),ni(this),os(this)}}}catch{}finally{}};function ar(c){if(!dt(c))return c.g.la();const m=ys(c.g);if(m==="")return"";let _="";const A=m.length,U=Ft(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ni(c),os(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,_+=c.h.i.decode(m[q],{stream:!(U&&q==A-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function dt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?Zn:(_=Number(m.substring(_,A)),isNaN(_)?ta:(A+=1,A+_>m.length?Zn:(m=m.slice(A,A+_),c.C=A+_,m)))}Ln.prototype.cancel=function(){this.K=!0,ni(this)};function as(c){c.T=Date.now()+c.H,ei(c,c.H)}function ei(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=nr(y(c.aa,c),m)}function ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Ln.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Lh(this.i,this.B),this.M!=2&&(tr(),ht(17)),ni(this),this.m=2,os(this)):ei(this,this.T-c)};function os(c){c.j.I==0||c.K||Oo(c.j,c)}function ni(c){ti(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Gt(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function na(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||cs(_.h,c))){if(!c.L&&cs(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ca(_),ii(_);else break e;Do(_),ht(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=nr(y(_.Va,_),6e3));Sn(_.h)<=1&&_.ta&&(_.ta=void 0)}else wi(_,11)}else if((c.L||_.g==c)&&ca(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let ze=U[m];const mt=ze[0];if(!(mt<=_.K))if(_.K=mt,ze=ze[1],_.I==2)if(ze[0]=="c"){_.M=ze[1],_.ba=ze[2];const un=ze[3];un!=null&&(_.ka=un,_.j.info("VER="+_.ka));const ri=ze[4];ri!=null&&(_.za=ri,_.j.info("SVER="+_.za));const zn=ze[5];zn!=null&&typeof zn=="number"&&zn>0&&(A=1.5*zn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bn=c.g;if(Bn){const qn=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qn){var q=A.h;q.g||qn.indexOf("spdy")==-1&&qn.indexOf("quic")==-1&&qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ia(q,q.h),q.h=null))}if(A.G){const Mo=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(A.wa=Mo,Ge(A.J,A.G,Mo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var J=c;if(A.na=bu(A,A.L?A.ba:null,A.W),J.L){Ti(A.h,J);var Ae=J,et=A.O;et&&(Ae.H=et),Ae.D&&(ti(Ae),as(Ae)),A.g=J}else vu(A);_.i.length>0&&As(_)}else ze[0]!="stop"&&ze[0]!="close"||wi(_,7);else _.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?wi(_,7):Es(_):ze[0]!="noop"&&_.l&&_.l.qa(ze),_.A=0)}}tr(4)}catch{}}var jh=class{constructor(c,m){this.g=c,this.map=m}};function ls(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function us(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sn(c){return c.h?1:c.g?c.g.size:0}function cs(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ia(c,m){c.g?c.g.add(m):c.h=m}function Ti(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ls.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ra(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return H(c.i)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let U,q=null;A>=0?(U=c[_].substring(0,A),q=c[_].substring(A+1)):U=c[_],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Un?(this.l=c.l,or(this,c.j),this.o=c.o,this.g=c.g,hs(this,c.u),this.h=c.h,lr(this,gu(c.i)),this.m=c.m):c&&(m=String(c).match(sa))?(this.l=!1,or(this,m[1]||"",!0),this.o=fs(m[2]||""),this.g=fs(m[3]||"",!0),hs(this,m[4]),this.h=fs(m[5]||"",!0),lr(this,m[6]||"",!0),this.m=fs(m[7]||"")):(this.l=!1,this.i=new wn(null,this.l))}Un.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Nt(m,bo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Nt(m,bo,!0),"@"),c.push(ss(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nt(_,_.charAt(0)=="/"?ur:So,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nt(_,du)),c.join("")},Un.prototype.resolve=function(c){const m=it(this);let _=!!c.j;_?or(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var A=c.h;if(_)hs(m,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let J=0;J<U.length;){const Ae=U[J++];Ae=="."?A&&J==U.length&&q.push(""):Ae==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&J==U.length&&q.push("")):(q.push(Ae),A=!0)}A=q.join("/")}else A=U}return _?m.h=A:_=c.i.toString()!=="",_?lr(m,gu(c.i)):_=!!c.m,_&&(m.m=c.m),m};function it(c){return new Un(c)}function or(c,m,_){c.j=_?fs(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function lr(c,m,_){m instanceof wn?(c.i=m,Io(c.i,c.l)):(_||(m=Nt(m,fu)),c.i=new wn(m,c.l))}function Ge(c,m,_){c.i.set(m,_)}function Ai(c){return Ge(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fs(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nt(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Ao),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ao(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bo=/[#\/\?@]/g,So=/[#\?:]/g,ur=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function wn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&zh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=wn.prototype,r.add=function(c,m){bi(this),this.i=null,c=jn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function wo(c,m){bi(c),m=jn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ro(c,m){return bi(c),m=jn(c,m),c.g.has(m)}r.forEach=function(c,m){bi(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(m,U,A,this)},this)},this)};function aa(c,m){bi(c);let _=[];if(typeof m=="string")Ro(c,m)&&(_=_.concat(c.g.get(jn(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}r.set=function(c,m){return bi(this),this.i=null,c=jn(this,c),Ro(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=aa(this,c),c.length>0?String(c[0]):m):m};function mu(c,m,_){wo(c,m),_.length>0&&(c.i=null,c.g.set(jn(c,m),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const U=ss(_);_=aa(this,_);for(let q=0;q<_.length;q++){let J=U;_[q]!==""&&(J+="="+ss(_[q])),c.push(J)}}return this.i=c.join("&")};function gu(c){const m=new wn;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function jn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Io(c,m){m&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(_,A){const U=A.toLowerCase();A!=U&&(wo(this,A),mu(this,U,_))},c)),c.j=m}function Co(c,m){const _=new ir;if(f.Image){const A=new Image;A.onload=T(Zt,_,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Zt,_,"TestLoadImage: error",!1,m,A),A.onabort=T(Zt,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Zt,_,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function cr(c,m){const _=new ir,A=new AbortController,U=setTimeout(()=>{A.abort(),Zt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Zt(_,"TestPingServer: ok",!0,m):Zt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,m)})}function Zt(c,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function pu(){this.g=new Ph}function ds(c){this.i=c.Sb||null,this.h=c.ab||!1}b(ds,lu),ds.prototype.g=function(){return new ms(this.i,this.h)};function ms(c,m){bt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ms,bt),r=ms.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jt(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function hr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Jt(this):Si(this),this.readyState==3&&hr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Jt(this))},r.Na=function(c){this.g&&(this.response=c,Jt(this))},r.ga=function(){this.g&&Jt(this)};function Jt(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Si(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fr(c){let m="";return Le(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Rn(c,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=fr(_),typeof c=="string"?_!=null&&ss(_):Ge(c,m,_))}function Ze(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,bt);var oa=/^https?$/i,yu=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ei.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){gs(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(yu,m,void 0)>=0)||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of _)this.g.setRequestHeader(q,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){gs(this,q)}};function gs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ps(c),St(c)}function ps(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ct(this,"complete"),Ct(this,"abort"),St(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),St(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?No(this):this.Xa())},r.Xa=function(){No(this)};function No(c){if(c.h&&typeof u<"u"){if(c.v&&Ft(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ct(c,"readystatechange"),Ft(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=q===0){let J=String(c.D).match(sa)[1]||null;!J&&f.self&&f.self.location&&(J=f.self.location.protocol.slice(0,-1)),A=!oa.test(J?J.toLowerCase():"")}_=A}if(_)Ct(c,"complete"),Ct(c,"success");else{c.o=6;try{var U=Ft(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",ps(c)}}finally{St(c)}}}}function St(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||Ct(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ft(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Wt(m)}};function ys(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(c){const m={};c=(c.g&&Ft(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var _=Uh(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}D(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function la(c){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,c),this.Za=vs("retryDelaySeedMs",1e4,c),this.Ta=vs("forwardChannelMaxRetries",2,c),this.va=vs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ls(c&&c.concurrentRequestLimit),this.Ba=new pu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=la.prototype,r.ka=8,r.I=1,r.connect=function(c,m,_,A){ht(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),As(this)};function Es(c){if(Ts(c),c.I==3){var m=c.V++,_=it(c.J);if(Ge(_,"SID",c.M),Ge(_,"RID",m),Ge(_,"TYPE","terminate"),bs(c,_),m=new Ln(c,c.j,m),m.M=2,m.A=Ai(it(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.A,_=!0),_||(m.g=ha(m.j,null),m.g.ea(m.A)),m.F=Date.now(),as(m)}Au(c)}function ii(c){c.g&&(xo(c),c.g.cancel(),c.g=null)}function Ts(c){ii(c),c.v&&(f.clearTimeout(c.v),c.v=null),ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function As(c){if(!us(c.h)&&!c.m){c.m=!0;var m=c.Ea;ve||S(),Pe||(ve(),Pe=!0),V.add(m,c),c.D=0}}function Bh(c,m){return Sn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=nr(y(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Ln(this,this.j,c);let q=this.o;if(this.U&&(q?(q=W(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ua(this,U,m),_=it(this.J),Ge(_,"RID",c),Ge(_,"CVER",22),this.G&&Ge(_,"X-HTTP-Session-Id",this.G),bs(this,_),q&&(this.R?m="headers="+ss(fr(q))+"&"+m:this.u&&Rn(_,this.u,q)),ia(this.h,U),this.Ra&&Ge(_,"TYPE","init"),this.S?(Ge(_,"$req",m),Ge(_,"SID","null"),U.U=!0,Jn(U,_,null)):Jn(U,_,m),this.I=2}}else this.I==3&&(c?_u(this,c):this.i.length==0||us(this.h)||_u(this))};function _u(c,m){var _;m?_=m.l:_=c.V++;const A=it(c.J);Ge(A,"SID",c.M),Ge(A,"RID",_),Ge(A,"AID",c.K),bs(c,A),c.u&&c.o&&Rn(A,c.u,c.o),_=new Ln(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=ua(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ia(c.h,_),Jn(_,A,m)}function bs(c,m){c.H&&Le(c.H,function(_,A){Ge(m,A,_)}),c.l&&Le({},function(_,A){Ge(m,A,_)})}function ua(c,m,_){_=Math.min(c.i.length,_);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ae=-1;for(;;){const et=["count="+_];Ae==-1?_>0?(Ae=U[0].g,et.push("ofs="+Ae)):Ae=0:et.push("ofs="+Ae);let ze=!0;for(let mt=0;mt<_;mt++){var q=U[mt].g;const un=U[mt].map;if(q-=Ae,q<0)Ae=Math.max(0,U[mt].g-100),ze=!1;else try{q="req"+q+"_"||"";try{var J=un instanceof Map?un:Object.entries(un);for(const[ri,zn]of J){let Bn=zn;g(zn)&&(Bn=An(zn)),et.push(q+ri+"="+encodeURIComponent(Bn))}}catch(ri){throw et.push(q+"type="+encodeURIComponent("_badmap")),ri}}catch{A&&A(un)}}if(ze){J=et.join("&");break e}}J=void 0}return c=c.i.splice(0,_),m.G=c,J}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ve||S(),Pe||(ve(),Pe=!0),V.add(m,c),c.A=0}}function Do(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=nr(y(c.Da,c),Tu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=nr(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),ii(this),Eu(this))};function xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new Ln(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=it(c.na);Ge(m,"RID","rpc"),Ge(m,"SID",c.M),Ge(m,"AID",c.K),Ge(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ge(m,"TO",c.ia),Ge(m,"TYPE","xmlhttp"),bs(c,m),c.u&&c.o&&Rn(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ai(it(m)),_.u=null,_.R=!0,sr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ii(this),Do(this),ht(19))};function ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Oo(c,m){var _=null;if(c.g==m){ca(c),xo(c),c.g=null;var A=2}else if(cs(c.h,m))_=m.G,Ti(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=Js(),Ct(A,new cu(A,_)),As(c)}else vu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Bh(c,m)||A==2&&Do(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Tu(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function wi(c,m){if(c.j.info("Error code "+m),m==2){var _=y(c.bb,c),A=c.Ua;const U=!A;A=new Un(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||or(A,"https"),Ai(A),U?Co(A.toString(),_):cr(A.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(m),Au(c),Ts(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Au(c){if(c.I=0,c.ja=[],c.l){const m=ra(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,_){var A=_ instanceof Un?it(_):new Un(_);if(A.g!="")m&&(A.g=m+"."+A.g),hs(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Un(null);A&&or(q,A),m&&(q.g=m),U&&hs(q,U),_&&(q.h=_),A=q}return _=c.G,m=c.wa,_&&m&&Ge(A,_,m),Ge(A,"VER",c.ka),bs(c,A),A}function ha(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ze(new ds({ab:_})):new Ze(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fa(){}fa.prototype.g=function(c,m){return new en(c,m)};function en(c,m){bt.call(this),this.g=new la(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new dr(this)}b(en,bt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Es(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=An(c),c=_);m.i.push(new jh(m.Ya++,c)),m.I==3&&As(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,en.Z.N.call(this)};function Vo(c){Ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}b(Vo,Ji);function wu(){Pn.call(this),this.status=1}b(wu,Pn);function dr(c){this.g=c}b(dr,Su),dr.prototype.ra=function(){Ct(this.g,"a")},dr.prototype.qa=function(c){Ct(this.g,new Vo(c))},dr.prototype.pa=function(c){Ct(this.g,new wu)},dr.prototype.oa=function(){Ct(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,vE=function(){return new fa},_E=function(){return Js()},yE=bn,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,Pc=ft,Pt.COMPLETE="complete",pE=Pt,uu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Rl=uu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,gE=Ze}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new wm("@firebase/firestore");function Ba(){return Fs.logLevel}function se(r,...e){if(Fs.logLevel<=De.DEBUG){const n=e.map(Pm);Fs.debug(`Firestore (${co}): ${r}`,...n)}}function Fi(r,...e){if(Fs.logLevel<=De.ERROR){const n=e.map(Pm);Fs.error(`Firestore (${co}): ${r}`,...n)}}function eo(r,...e){if(Fs.logLevel<=De.WARN){const n=e.map(Pm);Fs.warn(`Firestore (${co}): ${r}`,...n)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,EE(r,s,n)}function EE(r,e,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fi(s),new Error(s)}function ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||EE(e,o,s)}function Ee(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ke(typeof s.accessToken=="string",31837,{l:s}),new TE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class z2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=H2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function om(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Qd(o)===Qd(u)?xe(o,u):Qd(o)?1:-1}return xe(r.length,e.length)}const G2=55296,F2=57343;function Qd(r){const e=r.charCodeAt(0);return e>=G2&&e<=F2}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__name__";class ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&he(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=ci.isNumericId(e),o=ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Ye extends ci{construct(e,n,s){return new Ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ci{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new Bt([bv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ne(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ne(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ne(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ne(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ye.fromString(e))}static fromName(e){return new ue(Ye.fromString(e).popFirst(5))}static empty(){return new ue(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r,e,n){if(!n)throw new ne(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function K2(r,e,n,s){if(e===!0&&s===!0)throw new ne(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Sv(r){if(!ue.isDocumentKey(r))throw new ne(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wv(r){if(ue.isDocumentKey(r))throw new ne(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":he(12329,{type:typeof r})}function vn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ne(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(r);throw new ne(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function Wl(r,e){if(!bE(r))throw new ne(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ne(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Iv=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Iv);return new We(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rv)throw new ne(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:At("string",We._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new We(0,0))}static max(){return new me(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function Y2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=me.fromTimestamp(s===1e9?new We(n+1,0):new We(n,s));return new Kr(o,ue.empty(),e)}function X2(r){return new Kr(r.readTime,r.key,jl)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(me.min(),ue.empty(),jl)}static max(){return new Kr(me.max(),ue.empty(),jl)}}function $2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==W2)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let o=0,u=0,f=!1;e.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++g,g===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new $((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function J2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function Zl(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function eR(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function tR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Cv(e)),e=nR(r.get(n),e);return Cv(e)}function nR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case SE:n+="";break;default:n+=u}}return n}function Cv(r){return r+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function wE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new It(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RE("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const iR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(ke(!!r,39018),typeof r=="string"){let e=0;const n=iR.exec(r);if(ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="server_timestamp",CE="__type__",NE="__previous_value__",DE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===IE}function ph(r){const e=r.mapValue.fields[NE];return jm(e)?ph(e):e}function zl(r){const e=Yr(r.mapValue.fields[DE].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,s,o,u,f,g,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const Wc="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__type__",sR="__max__",Nc={mapValue:{}},OE="__vector__",Zc="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:oR(r)?9007199254740991:aR(r)?10:11:he(28295,{value:r})}function yi(r,e){if(r===e)return!0;const n=$r(r);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),g=Yr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),g=yt(u.doubleValue);return f===g?$c(f)===$c(g):isNaN(f)&&isNaN(g)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Nv(f)!==Nv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!yi(f[p],g[p])))return!1;return!0}(r,e);default:return he(52216,{left:r})}}function ql(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=$r(r),s=$r(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const g=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return xv(r.timestampValue,e.timestampValue);case 4:return xv(zl(r),zl(e));case 5:return om(r.stringValue,e.stringValue);case 6:return function(u,f){const g=Xr(u),p=Xr(f);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=xe(g[y],p[y]);if(T!==0)return T}return xe(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const g=xe(yt(u.latitude),yt(f.latitude));return g!==0?g:xe(yt(u.longitude),yt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ov(r.arrayValue,e.arrayValue);case 10:return function(u,f){const g=u.fields||{},p=f.fields||{},y=g[Zc]?.arrayValue,T=p[Zc]?.arrayValue,b=xe(y?.values?.length||0,T?.values?.length||0);return b!==0?b:Ov(y,T)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Nc.mapValue&&f===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const N=om(p[b],T[b]);if(N!==0)return N;const H=no(g[p[b]],y[T[b]]);if(H!==0)return H}return xe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=Yr(r),s=Yr(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function Ov(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function io(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ue.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${lm(n.fields[f])}`;return o+"}"}(r.mapValue):he(61005,{value:r})}function Lc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+Lc(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Lc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+Lc(f)}),o}(r.mapValue);default:throw he(13486,{value:r})}}function Vv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function um(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function aR(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===OE}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ol(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return{...r}}function oR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Ol(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new nn(Ol(this.value))}}function VE(r){const e=[];return es(r.fields,(n,s)=>{const o=new Bt([n]);if(Uc(s)){const u=VE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,o,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Mt(e,0,me.min(),me.min(),me.min(),nn.empty(),0)}static newFoundDocument(e,n,s,o){return new Mt(e,1,n,me.min(),s,o,0)}static newNoDocument(e,n){return new Mt(e,2,n,me.min(),me.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,me.min(),me.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function Pv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ue.comparator(ue.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class Tt extends ME{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cR(e,n,s):n==="array-contains"?new dR(e,s):n==="in"?new mR(e,s):n==="not-in"?new gR(e,s):n==="array-contains-any"?new pR(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hR(e,s):new fR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends ME{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return kE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function PE(r){return uR(r)&&kE(r)}function uR(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function cm(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(PE(r))return r.filters.map(e=>cm(e)).join(",");{const e=r.filters.map(n=>cm(n)).join(",");return`${r.op}(${e})`}}function LE(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,g)=>u&&LE(f,o.filters[g]),!0):!1}(r,e):void he(19439)}function UE(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(UE).join(" ,")+"}"}(r):"Filter"}class cR extends Tt{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class hR extends Tt{constructor(e,n){super(e,"in",n),this.keys=jE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fR extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=jE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jE(r,e){return(e.arrayValue?.values||[]).map(n=>ue.fromName(n.referenceValue))}class dR extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&ql(n.arrayValue,this.value)}}class mR extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class gR extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class pR extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function Uv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new yR(r,e,n,s,o,u,f)}function Bm(r){const e=Ee(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Te=n}return e.Te}function qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!lR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!LE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Lv(r.startAt,e.startAt)&&Lv(r.endAt,e.endAt)}function hm(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(r,e,n,s,o,u,f,g){return new Jl(r,e,n,s,o,u,f,g)}function yh(r){return new Jl(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zE(r){return r.collectionGroup!==null}function Vl(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new It(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eh(u,s))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new eh(Bt.keyField(),s))}return e.Ie}function mi(r){const e=Ee(r);return e.Ee||(e.Ee=vR(e,Vl(r))),e.Ee}function vR(r,e){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new eh(o.field,u)});const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function fm(r,e){const n=r.filters.concat([e]);return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,e,n){return new Jl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _h(r,e){return qm(mi(r),mi(e))&&r.limitType===e.limitType}function BE(r){return`${Bm(mi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>UE(o)).join(", ")}]`),Zl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(mi(r))}; limitType=${r.limitType})`}function vh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ue.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Vl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,g,p){const y=Pv(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,Vl(s),o)||s.endAt&&!function(f,g,p){const y=Pv(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,Vl(s),o))}(r,e)}function ER(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(e,n)=>{let s=!1;for(const o of Vl(r)){const u=TR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TR(r,e,n){const s=r.field.isKeyField()?ue.comparator(e.key,n.key):function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?no(p,y):he(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return he(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new at(ue.comparator);function Qi(){return AR}const HE=new at(ue.comparator);function Il(...r){let e=HE;for(const n of r)e=e.insert(n.key,n);return e}function GE(r){let e=HE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return Ml()}function FE(){return Ml()}function Ml(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const bR=new at(ue.comparator),SR=new It(ue.comparator);function Oe(...r){let e=SR;for(const n of r)e=e.add(n);return e}const wR=new It(xe);function RR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function QE(r){return{integerValue:""+r}}function IR(r,e){return eR(e)?QE(e):Hm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function CR(r,e,n){return r instanceof th?function(o,u){const f={fields:{[CE]:{stringValue:IE},[DE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jm(u)&&(u=ph(u)),u&&(f.fields[NE]=u),{mapValue:f}}(n,e):r instanceof Hl?YE(r,e):r instanceof Gl?XE(r,e):function(o,u){const f=KE(o,u),g=zv(f)+zv(o.Ae);return um(f)&&um(o.Ae)?QE(g):Hm(o.serializer,g)}(r,e)}function NR(r,e,n){return r instanceof Hl?YE(r,e):r instanceof Gl?XE(r,e):n}function KE(r,e){return r instanceof nh?function(s){return um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class th extends Eh{}class Hl extends Eh{constructor(e){super(),this.elements=e}}function YE(r,e){const n=$E(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Gl extends Eh{constructor(e){super(),this.elements=e}}function XE(r,e){let n=$E(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class nh extends Eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zv(r){return yt(r.integerValue||r.doubleValue)}function $E(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof Gl&&o instanceof Gl?to(s.elements,o.elements,yi):s instanceof nh&&o instanceof nh?yi(s.Ae,o.Ae):s instanceof th&&o instanceof th}(r.transform,e.transform)}class xR{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Th{}function WE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ah(r.key,qt.none()):new eu(r.key,r.data,qt.none());{const n=r.data,s=nn.empty();let o=new It(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(r.key,s,new _n(o.toArray()),qt.none())}}function OR(r,e,n){r instanceof eu?function(o,u,f){const g=o.value.clone(),p=qv(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):r instanceof ts?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=qv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZE(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function kl(r,e,n,s){return r instanceof eu?function(u,f,g,p){if(!jc(u.precondition,f))return g;const y=u.value.clone(),T=Hv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ts?function(u,f,g,p){if(!jc(u.precondition,f))return g;const y=Hv(u.fieldTransforms,p,f),T=f.data;return T.setAll(ZE(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,g){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,e,n)}function VR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=KE(s.transform,o||null);u!=null&&(n===null&&(n=nn.empty()),n.set(s.field,u))}return n||null}function Bv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>DR(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends Th{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Th{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function qv(r,e,n){const s=new Map;ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,NR(f,g,n[o]))}return s}function Hv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CR(u,f,e))}return s}class Ah extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JE extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&OR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=WE(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>Bv(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>Bv(n,s))}}class Gm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return bR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Gm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Me;function eT(r){switch(r){case Q.OK:return he(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return he(15467,{code:r})}}function tT(r){if(r===void 0)return Fi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Et.OK:return Q.OK;case Et.CANCELLED:return Q.CANCELLED;case Et.UNKNOWN:return Q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Q.INTERNAL;case Et.UNAVAILABLE:return Q.UNAVAILABLE;case Et.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Et.NOT_FOUND:return Q.NOT_FOUND;case Et.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Et.ABORTED:return Q.ABORTED;case Et.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Et.DATA_LOSS:return Q.DATA_LOSS;default:return he(39323,{code:r})}}(Me=Et||(Et={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Gr([4294967295,4294967295],0);function Gv(r){const e=LR().encode(r),n=new mE;return n.update(e),new Uint8Array(n.digest())}function Fv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class Fm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Gr.fromNumber(s)));return o.compare(UR)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gv(e),[s,o]=Fv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Fm(u,o,n);return s.forEach(g=>f.insert(g)),f}insert(e){if(this.ge===0)return;const n=Gv(e),[s,o]=Fv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bh(me.min(),o,new at(xe),Qi(),Oe())}}class tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tu(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nT{constructor(e,n){this.targetId=e,this.Ce=n}}class iT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Qv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),s=Oe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:he(38017,{changeType:u})}}),new tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Kv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Dc(),this.He=Dc(),this.Ye=new at(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hm(u))if(s===0){const f=new ue(u.path);this.et(n,f,Mt.newNoDocument(f,me.min()))}else ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=Xr(s).toUint8Array()}catch(p){if(p instanceof RE)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Fm(f,o,u)}catch(p){return eo(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const g=this.ot(f);if(g){if(u.current&&hm(g.target)){const p=new ue(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Mt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Oe();this.He.forEach((u,f)=>{let g=!0;f.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new bh(e,n,this.Ye,this.je,s);return this.je=Qi(),this.Je=Dc(),this.He=Dc(),this.Ye=new at(xe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new at(ue.comparator)}function Kv(){return new at(ue.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qR={and:"AND",or:"OR"};class HR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(r,e){return r.useProto3Json||Zl(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GR(r,e){return ih(r,e.toTimestamp())}function En(r){return ke(!!r,49232),me.fromTimestamp(function(n){const s=Yr(n);return new We(s.seconds,s.nanos)}(r))}function Qm(r,e){return gm(r,e).canonicalString()}function gm(r,e){const n=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function sT(r){const e=Ye.fromString(r);return ke(hT(e),10190,{key:e.toString()}),e}function rh(r,e){return Qm(r.databaseId,e.path)}function Pl(r,e){const n=sT(e);if(n.get(1)!==r.databaseId.projectId)throw new ne(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ne(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ue(oT(n))}function aT(r,e){return Qm(r.databaseId,e)}function FR(r){const e=sT(r);return e.length===4?Ye.emptyPath():oT(e)}function pm(r){return new Ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Yv(r,e,n){return{name:rh(r,e),fields:n.value.mapValue.fields}}function QR(r,e){return"found"in e?function(s,o){ke(!!o.found,43571),o.found.name,o.found.updateTime;const u=Pl(s,o.found.name),f=En(o.found.updateTime),g=o.found.createTime?En(o.found.createTime):me.min(),p=new nn({mapValue:{fields:o.found.fields}});return Mt.newFoundDocument(u,f,g,p)}(r,e):"missing"in e?function(s,o){ke(!!o.missing,3894),ke(!!o.readTime,22933);const u=Pl(s,o.missing),f=En(o.readTime);return Mt.newNoDocument(u,f)}(r,e):he(7234,{result:e})}function KR(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:he(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(ke(T===void 0||typeof T=="string",58123),Ht.fromBase64String(T||"")):(ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ht.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(y){const T=y.code===void 0?Q.UNKNOWN:tT(y.code);return new ne(T,y.message||"")}(f);n=new iT(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pl(r,s.document.name),u=En(s.document.updateTime),f=s.document.createTime?En(s.document.createTime):me.min(),g=new nn({mapValue:{fields:s.document.fields}}),p=Mt.newFoundDocument(o,u,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new zc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pl(r,s.document),u=s.readTime?En(s.readTime):me.min(),f=Mt.newNoDocument(o,u),g=s.removedTargetIds||[];n=new zc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pl(r,s.document),u=s.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new PR(o,u),g=s.targetId;n=new nT(g,f)}}return n}function lT(r,e){let n;if(e instanceof eu)n={update:Yv(r,e.key,e.value)};else if(e instanceof Ah)n={delete:rh(r,e.key)};else if(e instanceof ts)n={update:Yv(r,e.key,e.data),updateMask:nI(e.fieldMask)};else{if(!(e instanceof JE))return he(16599,{Vt:e.type});n={verify:rh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const g=f.transform;if(g instanceof th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw he(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:he(27497)}(r,e.precondition)),n}function YR(r,e){return r&&r.length>0?(ke(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?En(o.updateTime):En(u);return f.isEqual(me.min())&&(f=En(u)),new xR(f,o.transformResults||[])}(n,e))):[]}function XR(r,e){return{documents:[aT(r,e.path)]}}function $R(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aT(r,o);const u=function(y){if(y.length!==0)return cT(Xn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(N){return{field:Ha(N.field),direction:JR(N.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=mm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function WR(r){let e=FR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ke(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const N=uT(b);return N instanceof Xn&&PE(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(N=>function(Z){return new eh(Ga(Z.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(N))}(n.orderBy));let g=null;n.limit&&(g=function(b){let N;return N=typeof b=="object"?b.value:b,Zl(N)?null:N}(n.limit));let p=null;n.startAt&&(p=function(b){const N=!!b.before,H=b.values||[];return new Jc(H,N)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const N=!b.before,H=b.values||[];return new Jc(H,N)}(n.endAt)),_R(e,o,f,u,g,"F",p,y)}function ZR(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ga(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ga(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(Ga(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>uT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(r):he(30097,{filter:r})}function JR(r){return zR[r]}function eI(r){return BR[r]}function tI(r){return qR[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Bt.fromServerFormat(r.fieldPath)}function cT(r){return r instanceof Tt?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:eI(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(o=>cT(o));return s.length===1?s[0]:{compositeFilter:{op:tI(n.op),filters:s}}}(r):he(54877,{filter:r})}function nI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,o,u=me.min(),f=me.min(),g=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.yt=e}}function rI(r){const e=WR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.Cn=new aI}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Kr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class aI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(Ye.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(fT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LruGarbageCollector",oI=1048576;function Wv([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class lI{constructor(e){this.Ir=e,this.buffer=new It(Wv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Wv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se($v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?se($v,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Vr(3e5)})}}class cI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(gh.ce);const s=new lI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Xv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Ba()<=De.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function hI(r,e){return new cI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&kl(s.mutation,o,_n.empty(),We.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Oe()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Il();return u.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Oe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,s,o){let u=Qi();const f=Ml(),g=function(){return Ml()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ts)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),kl(T.mutation,y,T.mutation.getFieldMask(),We.now())):f.set(y.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>g.set(y,new dI(T,f.get(y)??null))),g))}recalculateAndSaveOverlays(e,n){const s=Ml();let o=new at((f,g)=>f-g),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||_n.empty();T=g.applyToLocalView(y,T),s.set(p,T);const b=(o.get(g.batchId)||Oe()).add(p);o=o.insert(g.batchId,b)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,b=FE();T.forEach(N=>{if(!u.has(N)){const H=WE(n.get(N),s.get(N));H!==null&&b.set(N,H),u=u.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ue.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):$.resolve(zs());let g=jl,p=u;return f.next(y=>$.forEach(y,(T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(N=>{p=p.insert(T,N)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Oe())).next(T=>({batchId:g,changes:GE(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(e,u).next(g=>$.forEach(g,p=>{const y=function(b,N){return new Jl(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((b,N)=>{f=f.insert(b,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Mt.newInvalidDocument(T)))});let g=Il();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&kl(T.mutation,y,_n.empty(),We.now()),vh(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:En(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:rI(o.bundledQuery),readTime:En(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.overlays=new at(ue.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return $.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new ue(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=zs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return $.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kR(n,s));let u=this.qr.get(n);u===void 0&&(u=Oe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Qr=new It(Vt.$r),this.Ur=new It(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ue(new Ye([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new Ye([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Oe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Vt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MR(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Vt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const g=this.Xr(f.Yr);u.push(g)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(xe);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],g=>{s=s.add(g.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ue.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ue(u),0);let g=new It(xe);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)},f),$.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.ri=e,this.docs=function(){return new at(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=Qi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Mt.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Qi();const f=n.path,g=new ue(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||$2(X2(T),s)<=0||(o.has(T.key)||vh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,o){he(9500)}ii(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new EI(this)}getSize(e){return $.resolve(this.size)}}class EI extends fI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.persistence=e,this.si=new Ys(n=>Bm(n),qm),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new yI,this.referenceDelegate=e(this),this.Pi=new TI(this),this.indexManager=new sI,this.remoteDocumentCache=function(o){return new vI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new iI(n),this.Ii=new gI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new _I(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const o=new AI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class AI extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Km,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=ue.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,me.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class sh{constructor(e,n){this.persistence=e,this.pi=new Ys(s=>tR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hI(this,n)}static mi(e,n){return new sh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(g=>{g||(s++,u.removeEntry(f,me.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lc(e.data.value)),n}br(e,n,s){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Oe(),o=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return n1()?8:J2($t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new bI;return this.Ss(e,n,f).next(g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ba()<=De.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=De.DEBUG&&se("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ba()<=De.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):$.resolve())}ys(e,n){if(jv(n))return $.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Oe(...u);return this.ps.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,dm(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,s,o){return jv(n)||o.isEqual(me.min())?$.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(Ba()<=De.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.vs(e,f,n,Y2(o,jl)).next(g=>g))})}Ds(e,n){let s=new It(qE(e));return n.forEach((o,u)=>{vh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ba()<=De.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Kr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",wI=3e8;class RI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new at(xe),this.xs=new Ys(u=>Bm(u),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function II(r,e,n,s){return new RI(r,e,n,s)}async function mT(r,e){const n=Ee(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],g=[];let p=Oe();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:g}))})})}function CI(r,e){const n=Ee(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const b=y.batch,N=b.keys();let H=$.resolve();return N.forEach(Z=>{H=H.next(()=>T.getEntry(p,Z)).next(ee=>{const Y=y.docVersions.get(Z);ke(Y!==null,48541),ee.version.compareTo(Y)<0&&(b.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),T.addEntry(ee)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Oe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function gT(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function NI(r,e){const n=Ee(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach((T,b)=>{const N=o.get(b);if(!N)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b)));let H=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?H=H.withResumeToken(Ht.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),o=o.insert(b,H),function(ee,Y,Te){return ee.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=wI?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0}(N,H,T)&&g.push(n.Pi.updateTargetData(u,H))});let p=Qi(),y=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(DI(u,f,e.documentUpdates).next(T=>{p=T.ks,y=T.qs})),!s.isEqual(me.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next(b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ms=o,u))}function DI(r,e,n){let s=Oe(),o=Oe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Qi();return n.forEach((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(me.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):se($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{ks:f,qs:o}})}function xI(r,e){const n=Ee(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OI(r,e){const n=Ee(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function ym(r,e,n){const s=Ee(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!fo(f))throw f;se($m,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Zv(r,e,n){const s=Ee(r);let o=me.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const b=Ee(p),N=b.xs.get(T);return N!==void 0?$.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,T)}(s,f,mi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:me.min(),n?u:Oe())).next(g=>(VI(s,ER(e),g),{documents:g,Qs:u})))}function VI(r,e,n){let s=r.Os.get(e)||me.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class Jv{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MI{constructor(){this.Mo=new Jv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(e0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function _m(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=_m(),g=this.zo(e,n.toUriEncodedString());se(Kd,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(g),T=oo(y);return this.Jo(e,g,p,s,T).then(b=>(se(Kd,`Received RPC '${e}' ${f}: `,b),b),b=>{throw eo(Kd,`RPC '${e}' ${f} failed with error: `,b,"url: ",g,"request:",s),b})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=PI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class jI extends LI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=_m();return new Promise((g,p)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(pE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();se(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),g(b);break;case Pc.TIMEOUT:se(Yt,`RPC '${e}' ${f} timed out`),p(new ne(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const N=y.getStatus();if(se(Yt,`RPC '${e}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const ee=function(Te){const be=Te.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(be)>=0?be:Q.UNKNOWN}(Z.status);p(new ne(ee,Z.message))}else p(new ne(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ne(Q.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{se(Yt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);se(Yt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}T_(e,n,s){const o=_m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vE(),g=_E(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");se(Yt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);this.I_(b);let N=!1,H=!1;const Z=new UI({Yo:Y=>{H?se(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(N||(se(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),N=!0),se(Yt,`RPC '${e}' stream ${o} sending:`,Y),b.send(Y))},Zo:()=>b.close()}),ee=(Y,Te,be)=>{Y.listen(Te,_e=>{try{be(_e)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return ee(b,Rl.EventType.OPEN,()=>{H||(se(Yt,`RPC '${e}' stream ${o} transport opened.`),Z.o_())}),ee(b,Rl.EventType.CLOSE,()=>{H||(H=!0,se(Yt,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(b))}),ee(b,Rl.EventType.ERROR,Y=>{H||(H=!0,eo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),Z.a_(new ne(Q.UNAVAILABLE,"The operation could not be completed")))}),ee(b,Rl.EventType.MESSAGE,Y=>{if(!H){const Te=Y.data[0];ke(!!Te,16349);const be=Te,_e=be?.error||be[0]?.error;if(_e){se(Yt,`RPC '${e}' stream ${o} received error:`,_e);const Xe=_e.status;let ve=function(S){const I=Et[S];if(I!==void 0)return tT(I)}(Xe),Pe=_e.message;ve===void 0&&(ve=Q.INTERNAL,Pe="Unknown error status: "+Xe+" with message "+_e.message),H=!0,Z.a_(new ne(ve,Pe)),b.close()}else se(Yt,`RPC '${e}' stream ${o} received:`,Te),Z.u_(Te)}}),ee(g,yE.STAT_EVENT,Y=>{Y.stat===am.PROXY?se(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===am.NOPROXY&&se(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r){return new HR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class pT{constructor(e,n,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wm(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ne(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zI extends pT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KR(this.serializer,e),s=function(u){if(!("targetChange"in u))return me.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?me.min():f.readTime?En(f.readTime):me.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(u,f){let g;const p=f.target;if(g=hm(p)?{documents:XR(u,p)}:{query:$R(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=rT(u,f.resumeToken);const y=mm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(me.min())>0){g.readTime=ih(u,f.snapshotVersion.toTimestamp());const y=mm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=ZR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.q_(n)}}class BI extends pT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YR(e.writeResults,e.commitTime),s=En(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>lT(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class HI extends qI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ne(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ne(Q.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Ho(e,gm(n,s),o,f,g,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ne(Q.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class GI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class FI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(se(Qs,"Restarting streams for network reachability change."),await async function(p){const y=Ee(p);y.Ea.add(4),await nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)}(this))})}),this.Ra=new GI(s,o)}}async function wh(r){if(Xs(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function yT(r,e){const n=Ee(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):mo(n).O_()&&Jm(n,e))}function Zm(r,e){const n=Ee(r),s=mo(n);n.Ia.delete(e),s.O_()&&_T(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function Jm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(r).Y_(e)}function _T(r,e){r.Va.Ue(e),mo(r).Z_(e)}function eg(r){r.Va=new jR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function tg(r){return Xs(r)&&!mo(r).x_()&&r.Ia.size>0}function Xs(r){return Ee(r).Ea.size===0}function vT(r){r.Va=void 0}async function QI(r){r.Ra.set("Online")}async function KI(r){r.Ia.forEach((e,n)=>{Jm(r,e)})}async function YI(r,e){vT(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function XI(r,e,n){if(r.Ra.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))}(r,e)}catch(s){se(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ah(r,s)}else if(e instanceof zc?r.Va.Ze(e):e instanceof nT?r.Va.st(e):r.Va.tt(e),!n.isEqual(me.min()))try{const s=await gT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),_T(u,p);const b=new zr(T.target,p,y,T.sequenceNumber);Jm(u,b)}),u.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){se(Qs,"Failed to raise snapshot:",s),await ah(r,s)}}async function ah(r,e,n){if(!fo(e))throw e;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),n||(n=()=>gT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{se(Qs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wh(r)})}function ET(r,e){return e().catch(n=>ah(r,n,e))}async function Rh(r){const e=Ee(r),n=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;$I(e);)try{const o=await xI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,WI(e,o)}catch(o){await ah(e,o)}TT(e)&&AT(e)}function $I(r){return Xs(r)&&r.Ta.length<10}function WI(r,e){r.Ta.push(e);const n=Wr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TT(r){return Xs(r)&&!Wr(r).x_()&&r.Ta.length>0}function AT(r){Wr(r).start()}async function ZI(r){Wr(r).ra()}async function JI(r){const e=Wr(r);for(const n of r.Ta)e.ea(n.mutations)}async function eC(r,e,n){const s=r.Ta.shift(),o=Gm.from(s,e,n);await ET(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Rh(r)}async function tC(r,e){e&&Wr(r).X_&&await async function(s,o){if(function(f){return eT(f)&&f!==Q.ABORTED}(o.code)){const u=s.Ta.shift();Wr(s).B_(),await ET(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Rh(s)}}(r,e),TT(r)&&AT(r)}async function i0(r,e){const n=Ee(r);n.asyncQueue.verifyOperationInProgress(),se(Qs,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function nC(r,e){const n=Ee(r);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await nu(n),n.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=function(n,s,o){const u=Ee(n);return u.sa(),new zI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:QI.bind(null,r),t_:KI.bind(null,r),r_:YI.bind(null,r),H_:XI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),vT(r))})),r.ma}function Wr(r){return r.fa||(r.fa=function(n,s,o){const u=Ee(n);return u.sa(),new BI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZI.bind(null,r),r_:tC.bind(null,r),ta:JI.bind(null,r),na:eC.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(se(Qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,g=new ng(e,n,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),fo(r))return new ne(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new at(ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new so(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rC{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ee(n),u=o.queries;o.queries=s0(),u.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ne(Q.ABORTED,"Firestore shutting down"))}}function s0(){return new Ys(r=>BE(r),_h)}async function bT(r,e){const n=Ee(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new iC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=ig(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function ST(r,e){const n=Ee(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sC(r,e){const n=Ee(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&rg(n)}function aC(r,e,n){const s=Ee(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function rg(r){r.Ca.forEach(e=>{e.next()})}var vm,a0;(a0=vm||(vm={})).Ma="default",a0.Cache="cache";class wT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class oC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=qE(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new r0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const N=o.get(T),H=vh(this.query,b)?b:null,Z=!!N&&this.mutatedKeys.has(N.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Y=!1;N&&H?N.data.isEqual(H.data)?Z!==ee&&(s.track({type:3,doc:H}),Y=!0):this.su(N,H)||(s.track({type:2,doc:H}),Y=!0,(p&&this.eu(H,p)>0||y&&this.eu(H,y)<0)&&(g=!0)):!N&&H?(s.track({type:0,doc:H}),Y=!0):N&&!H&&(s.track({type:1,doc:N}),Y=!0,(p||y)&&(g=!0)),Y&&(H?(f=f.add(H),u=ee?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,b)=>function(H,Z){const ee=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:Y})}};return ee(H)-ee(Z)}(T.type,b.type)||this.eu(T.doc,b.doc)),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new so(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new IT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new RT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sg="SyncEngine";class lC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class uC{constructor(e){this.key=e,this.hu=!1}}class cC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys(g=>BE(g),_h),this.Iu=new Map,this.Eu=new Set,this.du=new at(ue.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hC(r,e,n=!0){const s=VT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CT(s,e,n,!0),o}async function fC(r,e){const n=VT(r);await CT(n,e,!0,!1)}async function CT(r,e,n,s){const o=await OI(r.localStore,mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await dC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yT(r.remoteStore,o),g}async function dC(r,e,n,s,o){r.pu=(b,N,H)=>async function(ee,Y,Te,be){let _e=Y.view.ru(Te);_e.Cs&&(_e=await Zv(ee.localStore,Y.query,!1).then(({documents:V})=>Y.view.ru(V,_e)));const Xe=be&&be.targetChanges.get(Y.targetId),ve=be&&be.targetMismatches.get(Y.targetId)!=null,Pe=Y.view.applyChanges(_e,ee.isPrimaryClient,Xe,ve);return l0(ee,Y.targetId,Pe.au),Pe.snapshot}(r,b,N,H);const u=await Zv(r.localStore,e,!0),f=new oC(e,u.Qs),g=f.ru(u.documents),p=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(g,r.isPrimaryClient,p);l0(r,n,y.au);const T=new lC(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function mC(r,e,n){const s=Ee(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!_h(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Zm(s.remoteStore,o.targetId),Em(s,o.targetId)}).catch(ho)):(Em(s,o.targetId),await ym(s.localStore,o.targetId,!0))}async function gC(r,e){const n=Ee(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zm(n.remoteStore,s.targetId))}async function pC(r,e,n){const s=bC(r);try{const o=await function(f,g){const p=Ee(f),y=We.now(),T=g.reduce((H,Z)=>H.add(Z.key),Oe());let b,N;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let Z=Qi(),ee=Oe();return p.Ns.getEntries(H,T).next(Y=>{Z=Y,Z.forEach((Te,be)=>{be.isValidDocument()||(ee=ee.add(Te))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,Z)).next(Y=>{b=Y;const Te=[];for(const be of g){const _e=VR(be,b.get(be.key).overlayedDocument);_e!=null&&Te.push(new ts(be.key,_e,VE(_e.value.mapValue),qt.exists(!0)))}return p.mutationQueue.addMutationBatch(H,y,Te,g)}).next(Y=>{N=Y;const Te=Y.applyToLocalDocumentSet(b,ee);return p.documentOverlayCache.saveOverlays(H,Y.batchId,Te)})}).then(()=>({batchId:N.batchId,changes:GE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new at(xe)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await iu(s,o.changes),await Rh(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function NT(r,e){const n=Ee(r);try{const s=await NI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ke(f.hu,14607):o.removedDocuments.size>0&&(ke(f.hu,42227),f.hu=!1))}),await iu(n,s,e)}catch(s){await ho(s)}}function o0(r,e,n){const s=Ee(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=Ee(f);p.onlineState=g;let y=!1;p.queries.forEach((T,b)=>{for(const N of b.Sa)N.va(g)&&(y=!0)}),y&&rg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yC(r,e,n){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(ue.comparator);f=f.insert(u,Mt.newNoDocument(u,me.min()));const g=Oe().add(u),p=new bh(me.min(),new Map,new at(xe),f,g);await NT(s,p),s.du=s.du.remove(u),s.Au.delete(e),ag(s)}else await ym(s.localStore,e,!1).then(()=>Em(s,e,n)).catch(ho)}async function _C(r,e){const n=Ee(r),s=e.batch.batchId;try{const o=await CI(n.localStore,e);xT(n,s,null),DT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,o)}catch(o){await ho(o)}}async function vC(r,e,n){const s=Ee(r);try{const o=await function(f,g){const p=Ee(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(ke(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);xT(s,e,n),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await iu(s,o)}catch(o){await ho(o)}}function DT(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function xT(r,e,n){const s=Ee(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Em(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||OT(r,s)})}function OT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Zm(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ag(r))}function l0(r,e,n){for(const s of n)s instanceof RT?(r.Ru.addReference(s.key,e),EC(r,s)):s instanceof IT?(se(sg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||OT(r,s.key)):he(19791,{wu:s})}function EC(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(se(sg,"New document in limbo: "+n),r.Eu.add(s),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ue(Ye.fromString(e)),s=r.fu.next();r.Au.set(s,new uC(n)),r.du=r.du.insert(n,s),yT(r.remoteStore,new zr(mi(yh(n.path)),s,"TargetPurposeLimboResolution",gh.ce))}}async function iu(r,e,n){const s=Ee(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((g,p)=>{f.push(s.pu(p,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Xm.As(p.targetId,y);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,y){const T=Ee(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,N=>$.forEach(N.Es,H=>T.persistence.referenceDelegate.addReference(b,N.targetId,H)).next(()=>$.forEach(N.ds,H=>T.persistence.referenceDelegate.removeReference(b,N.targetId,H)))))}catch(b){if(!fo(b))throw b;se($m,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const H=T.Ms.get(N),Z=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(N,ee)}}}(s.localStore,u))}async function TC(r,e){const n=Ee(r);if(!n.currentUser.isEqual(e)){se(sg,"User change. New user:",e.toKey());const s=await mT(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(g=>{g.forEach(p=>{p.reject(new ne(Q.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Ls)}}function AC(r,e){const n=Ee(r),s=n.Au.get(e);if(s&&s.hu)return Oe().add(s.key);{let o=Oe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function VT(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yC.bind(null,e),e.Pu.H_=sC.bind(null,e.eventManager),e.Pu.yu=aC.bind(null,e.eventManager),e}function bC(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return II(this.persistence,new SI,e.initialUser,this.serializer)}Cu(e){return new dT(Ym.mi,this.serializer)}Du(e){return new MI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class SC extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new dT(s=>sh.mi(s,n),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rC}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),s=function(u){return new jI(u)}(e.databaseInfo);return function(u,f,g,p){return new HI(u,f,g,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,g){return new FI(s,o,u,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return t0.v()?new t0:new kI}())}createSyncEngine(e,n){return function(o,u,f,g,p,y,T){const b=new cC(o,u,f,g,p,y);return T&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ee(n);se(Qs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ne(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,u){const f=Ee(o),g={documents:u.map(b=>rh(f.serializer,b))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,Ye.emptyPath(),g,u.length),y=new Map;p.forEach(b=>{const N=QR(f.serializer,b);y.set(N.key.toString(),N)});const T=[];return u.forEach(b=>{const N=y.get(b.toString());ke(!!N,55234,{key:b}),T.push(N)}),T}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const o=ue.fromPath(s);this.mutations.push(new JE(o,this.precondition(o)))}),await async function(s,o){const u=Ee(s),f={writes:o.map(g=>lT(u.serializer,g))};await u.Go("Commit",u.serializer.databaseId,Ye.emptyPath(),f)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw he(50498,{Gu:e.constructor.name});n=me.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ne(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(me.min())?qt.exists(!1):qt.updateTime(n):qt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(me.min()))throw new ne(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qt.updateTime(n)}return qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Wm(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new wC(this.datastore),n=this.Hu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(o=>{this.Yu(o)}))}).catch(s=>{this.Yu(s)})})}Hu(e){try{const n=this.updateFunction(e);return!Zl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!eT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class IC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{se(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),se(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function u0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await CC(r);se(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>i0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>i0(e.remoteStore,o)),r._onlineComponents=e}async function CC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Zr,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Xd(r,new oh)}}else se(Zr,"Using default OfflineComponentProvider"),await Xd(r,new SC(void 0));return r._offlineComponents}async function og(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Zr,"Using user provided OnlineComponentProvider"),await u0(r,r._uninitializedComponentsProvider._online)):(se(Zr,"Using default OnlineComponentProvider"),await u0(r,new Tm))),r._onlineComponents}function NC(r){return og(r).then(e=>e.syncEngine)}function DC(r){return og(r).then(e=>e.datastore)}async function Am(r){const e=await og(r),n=e.eventManager;return n.onListen=hC.bind(null,e.syncEngine),n.onUnlisten=mC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gC.bind(null,e.syncEngine),n}function xC(r,e,n={}){const s=new qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,g,p,y){const T=new MT({next:N=>{T.Nu(),f.enqueueAndForget(()=>ST(u,b));const H=N.docs.has(g);!H&&N.fromCache?y.reject(new ne(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&p&&p.source==="server"?y.reject(new ne(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new wT(yh(g.path),T,{includeMetadataChanges:!0,qa:!0});return bT(u,b)}(await Am(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firestore.googleapis.com",h0=!0;class f0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=h0}else this.host=e.host,this.ssl=e.ssl??h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oI)throw new ne(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new L2;switch(s.type){case"firstParty":return new B2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=c0.get(n);s&&(se("ComponentProvider","Removing Datastore"),c0.delete(n),s.terminate())}(this),Promise.resolve()}}function OC(r,e,n,s={}){r=vn(r,Ih);const o=oo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(R0(`https://${g}`),I0("Firestore",!0)),u.host!==PT&&u.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!Bs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Xt.MOCK_USER;else{y=Kb(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ne(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(b)}r._authCredentials=new U2(new TE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class st{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Wl(n,st._jsonSchema))return new st(e,s||null,new ue(Ye.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),referencePath:At("string")};class Fr extends go{constructor(e,n,s){super(e,n,yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new ue(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function LT(r,e,...n){if(r=ct(r),AE("collection","path",e),r instanceof Ih){const s=Ye.fromString(e,...n);return wv(s),new Fr(r,null,s)}{if(!(r instanceof st||r instanceof Fr))throw new ne(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...n));return wv(s),new Fr(r.firestore,null,s)}}function $i(r,e,...n){if(r=ct(r),arguments.length===1&&(e=Lm.newId()),AE("doc","path",e),r instanceof Ih){const s=Ye.fromString(e,...n);return Sv(s),new st(r,null,new ue(s))}{if(!(r instanceof st||r instanceof Fr))throw new ne(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...n));return Sv(s),new st(r.firestore,r instanceof Fr?r.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wm(this,"async_queue_retry"),this._c=()=>{const s=Yd();s&&se(d0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;se(d0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",g0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&he(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ki extends Ih{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new m0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function VC(r,e){const n=typeof r=="object"?r:x0(),s=typeof r=="string"?r:Wc,o=Im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Fb("firestore");u&&OC(o,...u)}return o}function Ch(r){if(r._terminated)throw new ne(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MC(r),r._firestoreClient}function MC(r){const e=r._freezeSettings(),n=function(o,u,f,g){return new rR(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new IC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(Ht.fromBase64String(e))}catch(n){throw new ne(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:At("string",yn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:At("string",gi._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pi(e.vectorValues);throw new ne(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:At("string",pi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^__.*__$/;class PC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class UT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:r})}}class ug{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&kC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sh(e)}Cc(e,n,s,o=!1){return new ug({Ac:e,methodName:n,Dc:s,path:Bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function su(r){const e=r._freezeSettings(),n=Sh(r._databaseId);return new LC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function cg(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",f,s);const g=qT(s,f);let p,y;if(u.merge)p=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const N=bm(e,b,n);if(!f.contains(N))throw new ne(Q.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);GT(T,N)||T.push(N)}p=new _n(T),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new PC(new nn(g),p,y)}class Nh extends lg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function zT(r,e,n,s){const o=r.Cc(1,e,n);hg("Data must be an object, but it was:",o,s);const u=[],f=nn.empty();es(s,(p,y)=>{const T=fg(e,p,n);y=ct(y);const b=o.yc(T);if(y instanceof Nh)u.push(T);else{const N=au(y,b);N!=null&&(u.push(T),f.set(T,N))}});const g=new _n(u);return new UT(f,g,o.fieldTransforms)}function BT(r,e,n,s,o,u){const f=r.Cc(1,e,n),g=[bm(e,s,n)],p=[o];if(u.length%2!=0)throw new ne(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(bm(e,u[N])),p.push(u[N+1]);const y=[],T=nn.empty();for(let N=g.length-1;N>=0;--N)if(!GT(y,g[N])){const H=g[N];let Z=p[N];Z=ct(Z);const ee=f.yc(H);if(Z instanceof Nh)y.push(H);else{const Y=au(Z,ee);Y!=null&&(y.push(H),T.set(H,Y))}}const b=new _n(y);return new UT(T,b,f.fieldTransforms)}function UC(r,e,n,s=!1){return au(n,r.Cc(s?4:3,e))}function au(r,e){if(HT(r=ct(r)))return hg("Unsupported field value:",e,r),qT(r,e);if(r instanceof lg)return function(s,o){if(!jT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const g of s){let p=au(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=We.fromDate(s);return{timestampValue:ih(o.serializer,u)}}if(s instanceof We){const u=new We(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(o.serializer,u)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yn)return{bytesValue:rT(o.serializer,s._byteString)};if(s instanceof st){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pi)return function(f,g){return{mapValue:{fields:{[xE]:{stringValue:OE},[Zc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hm(g.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${mh(s)}`)}(r,e)}function qT(r,e){const n={};return wE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(s,o)=>{const u=au(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function HT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof gi||r instanceof yn||r instanceof st||r instanceof lg||r instanceof pi)}function hg(r,e,n){if(!HT(n)||!bE(n)){const s=mh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function bm(r,e,n){if((e=ct(e))instanceof ru)return e._internalPath;if(typeof e=="string")return fg(r,e);throw lh("Field path arguments must be of type string or ",r,!1,void 0,n)}const jC=new RegExp("[~\\*/\\[\\]]");function fg(r,e,n){if(e.search(jC)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ru(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function lh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ne(Q.INVALID_ARGUMENT,g+r+p)}function GT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zC extends uh{data(){return super.data()}}function dg(r,e){return typeof e=="string"?fg(r,e):e instanceof ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ne(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class qC extends mg{}function HC(r,e,...n){let s=[];e instanceof mg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof gg).length,g=u.filter(p=>p instanceof Dh).length;if(f>1||f>0&&g>0)throw new ne(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Dh extends qC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dh(e,n,s)}_apply(e){const n=this._parse(e);return FT(e._query,n),new go(e.firestore,e.converter,fm(e._query,n))}_parse(e){const n=su(e.firestore);return function(u,f,g,p,y,T,b){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ne(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){_0(b,T);const Z=[];for(const ee of b)Z.push(y0(p,u,ee));N={arrayValue:{values:Z}}}else N=y0(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||_0(b,T),N=UC(g,f,b,T==="in"||T==="not-in");return Tt.create(y,T,N)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function GC(r,e,n){const s=e,o=dg("where",r);return Dh._create(o,s,n)}class gg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)FT(f,p),f=fm(f,p)}(e._query,n),new go(e.firestore,e.converter,fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function y0(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ne(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(e)&&n.indexOf("/")!==-1)throw new ne(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ye.fromString(n));if(!ue.isDocumentKey(s))throw new ne(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vv(r,new ue(s))}if(n instanceof st)return Vv(r,n._key);throw new ne(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function _0(r,e){if(!Array.isArray(r)||r.length===0)throw new ne(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(r,e){const n=function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QT{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Zc].arrayValue?.values?.map(s=>yt(s.doubleValue));return new pi(n)}convertGeoPoint(e){return new gi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ye.fromString(e);ke(hT(s),9688,{name:e});const o=new Bl(s.get(1),s.get(3)),u=new ue(s.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class FC extends QT{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends uh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:At("string",Qr._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Bc extends Qr{data(e={}){return super.data(e)}}class Wa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Qa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Qa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const p=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qa(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const p=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qa(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:QC(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){r=vn(r,st);const e=vn(r.firestore,Ki);return xC(Ch(e),r._key).then(n=>YT(e,r,n))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:At("string",Wa._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class yg extends QT{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function KC(r,e,n){r=vn(r,st);const s=vn(r.firestore,Ki),o=pg(r.converter,e,n);return xh(s,[cg(su(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qt.none())])}function YC(r,e,n,...s){r=vn(r,st);const o=vn(r.firestore,Ki),u=su(o);let f;return f=typeof(e=ct(e))=="string"||e instanceof ru?BT(u,"updateDoc",r._key,e,n,s):zT(u,"updateDoc",r._key,e),xh(o,[f.toMutation(r._key,qt.exists(!0))])}function XC(r){return xh(vn(r.firestore,Ki),[new Ah(r._key,qt.none())])}function $C(r,e){const n=vn(r.firestore,Ki),s=$i(r),o=pg(r.converter,e);return xh(n,[cg(su(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qt.exists(!1))]).then(()=>s)}function WC(r,...e){r=ct(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||p0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(p0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,g;if(r instanceof st)f=vn(r.firestore,Ki),g=yh(r._key.path),u={next:p=>{e[s]&&e[s](YT(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=vn(r,go);f=vn(p.firestore,Ki),g=p._query;const y=new yg(f);u={next:T=>{e[s]&&e[s](new Wa(f,y,p,T))},error:e[s+1],complete:e[s+2]},BC(r._query)}return function(y,T,b,N){const H=new MT(N),Z=new wT(T,H,b);return y.asyncQueue.enqueueAndForget(async()=>bT(await Am(y),Z)),()=>{H.Nu(),y.asyncQueue.enqueueAndForget(async()=>ST(await Am(y),Z))}}(Ch(f),g,o,u)}function xh(r,e){return function(s,o){const u=new qi;return s.asyncQueue.enqueueAndForget(async()=>pC(await NC(s),o,u)),u.promise}(Ch(r),e)}function YT(r,e,n){const s=n.docs.get(e._key),o=new yg(r);return new Qr(r,o,e._key,s,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={maxAttempts:5};function Nl(r,e){if((r=ct(r)).firestore!==e)throw new ne(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=su(e)}get(e){const n=Nl(e,this._firestore),s=new FC(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return he(24041);const u=o[0];if(u.isFoundDocument())return new uh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new uh(this._firestore,s,n._key,null,n.converter);throw he(18433,{doc:u})})}set(e,n,s){const o=Nl(e,this._firestore),u=pg(o.converter,n,s),f=cg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Nl(e,this._firestore);let f;return f=typeof(n=ct(n))=="string"||n instanceof ru?BT(this._dataReader,"Transaction.update",u._key,n,s,o):zT(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Nl(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN extends JC{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Nl(e,this._firestore),s=new yg(this._firestore);return super.get(e).then(o=>new Qr(this._firestore,s,n._key,o._document,new Qa(!1,!1),n.converter))}}function _g(r,e,n){r=vn(r,Ki);const s={...ZC,...n};return function(u){if(u.maxAttempts<1)throw new ne(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,f,g){const p=new qi;return u.asyncQueue.enqueueAndForget(async()=>{const y=await DC(u);new RC(u.asyncQueue,y,g,f,p).ju()}),p.promise}(Ch(r),o=>e(new eN(r,o)),s)}(function(e,n=!0){(function(o){co=o})(lo),Za(new qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ki(new j2(s.getProvider("auth-internal")),new q2(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ne(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,T)}(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),Hr(Ev,Tv,e),Hr(Ev,Tv,"esm2020")})();var tN="firebase",nN="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(tN,nN,"app");const iN={apiKey:"AIzaSyAimjNmjZXiSgw94cmT6ARaEyx30lOYhWA",authDomain:"to-do-list-2bf67.firebaseapp.com",projectId:"to-do-list-2bf67",storageBucket:"to-do-list-2bf67.firebasestorage.app",messagingSenderId:"228693460213",appId:"1:228693460213:web:6e16066f1f7092f9dd71bc",measurementId:"G-TKMGENCV78"},XT=D0(iN),Oh=k2(XT),Tn=VC(XT),rN=r=>({"auth/user-not-found":"Bu e-posta adresi ile kaytl kullanc bulunamad.","auth/wrong-password":"Girdiiniz ifre hatal.","auth/invalid-email":"Geersiz e-posta adresi format.","auth/user-disabled":"Bu hesap devre d braklm.","auth/email-already-in-use":"Bu e-posta adresi zaten kullanmda.","auth/weak-password":"ifre ok zayf. En az 6 karakter olmal.","auth/operation-not-allowed":"Bu ilem u anda izin verilmiyor.","auth/invalid-credential":"Geersiz giri bilgileri.","auth/too-many-requests":"ok fazla baarsz deneme. Ltfen daha sonra tekrar deneyin.","auth/network-request-failed":"A balants hatas. nternet balantnz kontrol edin.","auth/requires-recent-login":"Bu ilem iin yeniden giri yapmanz gerekiyor.","auth/invalid-login-credentials":"E-posta veya ifre hatal.","permission-denied":"Bu ilem iin yetkiniz bulunmuyor.",unavailable:"Servis u anda kullanlamyor. Ltfen daha sonra tekrar deneyin.","not-found":"stenen veri bulunamad.","already-exists":"Bu veri zaten mevcut.","resource-exhausted":"Kaynak limiti ald.","failed-precondition":"lem iin gerekli koullar salanmad.",aborted:"lem iptal edildi.","out-of-range":"Geersiz deer aral.",unimplemented:"Bu zellik henz desteklenmiyor.",internal:"Sunucu hatas olutu.","deadline-exceeded":"lem zaman amna urad.",cancelled:"lem iptal edildi.","invalid-argument":"Geersiz parametre.",unauthenticated:"Giri yapmanz gerekiyor."})[r]||"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin.",Wi=r=>{const e=r;if(e?.code)return rN(e.code);if(e?.message){const n=e.message.toLowerCase();if(n.includes("user not found")||n.includes("no user record"))return"Bu e-posta adresi ile kaytl kullanc bulunamad.";if(n.includes("wrong password")||n.includes("invalid password"))return"Girdiiniz ifre hatal.";if(n.includes("invalid email"))return"Geersiz e-posta adresi format.";if(n.includes("email already in use"))return"Bu e-posta adresi zaten kullanmda.";if(n.includes("weak password"))return"ifre ok zayf. En az 6 karakter olmal.";if(n.includes("too many requests"))return"ok fazla baarsz deneme. Ltfen daha sonra tekrar deneyin.";if(n.includes("network"))return"A balants hatas. nternet balantnz kontrol edin."}return"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."},sN=async(r,e,n,s)=>{try{await $C(LT(Tn,"todos"),{text:r,completed:!1,createdAt:We.now(),userId:e,dueDate:n?We.fromDate(n):null,priority:s,subTasks:[]})}catch(o){throw new Error("Todo eklenirken hata olutu: "+Wi(o))}},aN=async(r,e)=>{try{const n=$i(Tn,"todos",r);await YC(n,{completed:e})}catch(n){throw new Error("Todo gncellenirken hata olutu: "+Wi(n))}},oN=async r=>{try{await XC($i(Tn,"todos",r))}catch(e){throw new Error("Todo silinirken hata olutu: "+Wi(e))}},lN=async(r,e)=>{try{const n=$i(Tn,"todos",r),s={id:Math.random().toString(36).substr(2,9),text:e,completed:!1};await _g(Tn,async o=>{const u=await o.get(n);if(!u.exists())throw new Error("Todo bulunamad");const f=u.data().subTasks||[];f.push(s),o.update(n,{subTasks:f})})}catch(n){throw new Error("Alt grev eklenirken hata olutu: "+Wi(n))}},uN=async(r,e)=>{try{const n=$i(Tn,"todos",r);await _g(Tn,async s=>{const o=await s.get(n);if(!o.exists())throw new Error("Todo bulunamad");const f=(o.data().subTasks||[]).map(g=>g.id===e?{...g,completed:!g.completed}:g);s.update(n,{subTasks:f})})}catch(n){throw new Error("Alt grev gncellenirken hata olutu: "+Wi(n))}},cN=async(r,e)=>{try{const n=$i(Tn,"todos",r);await _g(Tn,async s=>{const o=await s.get(n);if(!o.exists())throw new Error("Todo bulunamad");const f=(o.data().subTasks||[]).filter(g=>g.id!==e);s.update(n,{subTasks:f})})}catch(n){throw new Error("Alt grev silinirken hata olutu: "+Wi(n))}},hN=(r,e)=>{const n=HC(LT(Tn,"todos"),GC("userId","==",r));return WC(n,s=>{const o=[];s.forEach(u=>{const f=u.data();o.push({id:u.id,text:f.text,completed:f.completed,createdAt:f.createdAt.toDate(),userId:f.userId,dueDate:f.dueDate?f.dueDate.toDate():null,priority:f.priority||"medium",subTasks:f.subTasks||[]})}),o.sort((u,f)=>f.createdAt.getTime()-u.createdAt.getTime()),e(o)})},Kn=v0((r,e)=>({todos:[],loading:!1,error:null,unsubscribe:null,addTodo:async(n,s,o,u)=>{r({loading:!0,error:null});try{await sN(n,s,o,u),r({loading:!1})}catch(f){r({error:f.message,loading:!1})}},toggleTodo:async n=>{const{todos:s}=e(),o=s.find(u=>u.id===n);if(o)try{await aN(n,!o.completed)}catch(u){r({error:u.message})}},deleteTodo:async n=>{try{await oN(n)}catch(s){r({error:s.message})}},addSubTask:async(n,s)=>{try{await lN(n,s)}catch(o){r({error:o.message})}},toggleSubTask:async(n,s)=>{try{await uN(n,s)}catch(o){r({error:o.message})}},deleteSubTask:async(n,s)=>{try{await cN(n,s)}catch(o){r({error:o.message})}},loadUserTodos:n=>{const{unsubscribe:s}=e();s&&s();const o=hN(n,u=>{r({todos:u})});r({unsubscribe:o})},clearTodos:()=>{const{unsubscribe:n}=e();n&&n(),r({todos:[],unsubscribe:null})},clearError:()=>r({error:null})})),fN=async(r,e,n,s)=>{try{const u=(await yw(Oh,r,e)).user;await Ew(u,{displayName:`${n} ${s}`});const f={firstName:n,lastName:s,email:r,uid:u.uid};return await KC($i(Tn,"users",u.uid),f),f}catch(o){throw new Error(Wi(o))}},dN=async(r,e)=>{try{const s=(await _w(Oh,r,e)).user,o=await KT($i(Tn,"users",s.uid));if(o.exists())return o.data();throw new Error("Kullanc bilgileri bulunamad")}catch(n){throw new Error(Wi(n))}},mN=async()=>{try{await Sw(Oh)}catch(r){throw new Error(Wi(r))}},gN=async r=>{try{if(r.displayName){const[n,...s]=r.displayName.split(" ");return{firstName:n,lastName:s.join(" ")||"",email:r.email||"",uid:r.uid}}const e=await KT($i(Tn,"users",r.uid));return e.exists()?e.data():{firstName:r.email?.split("@")[0]||"Kullanc",lastName:"",email:r.email||"",uid:r.uid}}catch(e){return console.error("Kullanc bilgileri alnamad:",e),{firstName:r.email?.split("@")[0]||"Kullanc",lastName:"",email:r.email||"",uid:r.uid}}},ao=v0(r=>({user:null,loading:!1,error:null,success:null,login:async(e,n)=>{r({loading:!0,error:null,success:null});try{const s=await dN(e,n);r({user:s,loading:!1,success:"Baaryla giri yaptnz!"}),Kn.getState().loadUserTodos(s.uid)}catch(s){r({error:s.message,loading:!1})}},register:async(e,n,s,o)=>{r({loading:!0,error:null,success:null});try{const u=await fN(e,n,s,o);r({user:u,loading:!1,success:"Hesabnz baaryla oluturuldu!"}),Kn.getState().loadUserTodos(u.uid)}catch(u){r({error:u.message,loading:!1})}},logout:async()=>{r({loading:!0});try{await mN(),Kn.getState().clearTodos(),r({user:null,loading:!1})}catch(e){r({error:e.message,loading:!1})}},setUser:e=>{r({user:e}),e&&Kn.getState().loadUserTodos(e.uid)},clearError:()=>r({error:null}),clearSuccess:()=>r({success:null})}));bw(Oh,async r=>{const{setUser:e}=ao.getState();if(r){const n=await gN(r);e(n)}else e(null)});const pN=()=>{const[r,e]=hi.useState(!0),[n,s]=hi.useState({firstName:"",lastName:"",email:"",password:""}),{login:o,register:u,loading:f,error:g,success:p,clearError:y,clearSuccess:T}=ao(),b=Z=>{const{name:ee,value:Y}=Z.target;s(Te=>({...Te,[ee]:Y})),g&&y(),p&&T()},N=async Z=>{Z.preventDefault(),r?await o(n.email,n.password):await u(n.email,n.password,n.firstName,n.lastName)},H=()=>{e(!r),s({firstName:"",lastName:"",email:"",password:""}),y(),T()};return C.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 px-2 sm:px-4 lg:px-8 pt-16 pb-8",children:C.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4 sm:mb-6",children:C.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),C.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:r?"Ho Geldiniz":"Hesap Oluturun"}),C.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:r?"Grevlerinizi ynetmek iin giri yapn":"Yeni hesap oluturun ve balayn"})]}),C.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6 lg:p-8 border border-gray-100",children:[p&&C.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-xl",children:C.jsxs("div",{className:"flex items-start",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.jsxs("div",{className:"ml-3",children:[C.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Baarl!"}),C.jsx("p",{className:"text-sm text-green-700 mt-1",children:p})]}),C.jsx("div",{className:"ml-auto pl-3",children:C.jsx("button",{type:"button",onClick:T,className:"inline-flex text-green-400 hover:text-green-600 focus:outline-none",children:C.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})}),g&&C.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:C.jsxs("div",{className:"flex items-start",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.jsxs("div",{className:"ml-3",children:[C.jsx("h3",{className:"text-sm font-medium text-red-800",children:r?"Giri Hatas":"Kayt Hatas"}),C.jsx("p",{className:"text-sm text-red-700 mt-1",children:g})]}),C.jsx("div",{className:"ml-auto pl-3",children:C.jsx("button",{type:"button",onClick:y,className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none",children:C.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})}),C.jsxs("form",{onSubmit:N,className:"space-y-4 sm:space-y-6",children:[!r&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ad"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),C.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white text-base",placeholder:"Adnz girin",required:!r})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Soyad"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),C.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white text-base",placeholder:"Soyadnz girin",required:!r})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),C.jsx("input",{type:"email",name:"email",value:n.email,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white text-base",placeholder:"E-posta adresinizi girin",required:!0})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ifre"}),C.jsxs("div",{className:"relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),C.jsx("input",{type:"password",name:"password",value:n.password,onChange:b,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white text-base",placeholder:"ifrenizi girin",required:!0,minLength:6})]})]}),C.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-[1.02] shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:f?C.jsxs("div",{className:"flex items-center",children:[C.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"leniyor..."]}):C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:C.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-200 group-hover:text-blue-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),r?"Giri Yap":"Hesap Olutur"]})})]}),C.jsx("div",{className:"mt-6 text-center",children:C.jsx("button",{type:"button",onClick:H,className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:r?"Hesabnz yok mu? Kayt olun":"Zaten hesabnz var m? Giri yapn"})})]})]})})},yN=()=>{const r=ao(n=>n.user),e=ao(n=>n.logout);return C.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50",children:C.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-3 sm:py-4 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[C.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:C.jsx("svg",{className:"h-4 w-4 sm:h-6 sm:w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent truncate",children:"To-Do-List"}),C.jsx("p",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Grev Ynetimi"})]})]}),r&&C.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[C.jsxs("div",{className:"hidden md:block text-right",children:[C.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ho Geldin"}),C.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[r.firstName," ",r.lastName]})]}),C.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[C.jsx("div",{className:"h-7 w-7 sm:h-8 sm:w-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:C.jsxs("span",{className:"text-white text-xs sm:text-sm font-semibold",children:[r.firstName.charAt(0),r.lastName.charAt(0)]})}),C.jsxs("button",{onClick:e,className:"px-2 sm:px-4 py-1.5 sm:py-2 bg-red-50 text-red-600 rounded-lg sm:rounded-xl hover:bg-red-100 transition-all duration-200 font-medium text-xs sm:text-sm border border-red-200 hover:border-red-300 flex items-center space-x-1 sm:space-x-2",children:[C.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),C.jsx("span",{className:"hidden sm:inline",children:"k"})]})]})]})]})})},_N=({children:r})=>C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[C.jsx(yN,{}),C.jsx("main",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8 max-w-4xl",children:r})]}),vN=()=>{const[r,e]=hi.useState(""),[n,s]=hi.useState(""),[o,u]=hi.useState("medium"),f=Kn(y=>y.addTodo),g=ao(y=>y.user),p=async y=>{y.preventDefault(),r.trim()&&g&&(await f(r,g.uid,n?new Date(n):null,o),e(""),s(""),u("medium"))};return C.jsx("form",{onSubmit:p,className:"mb-6 sm:mb-8",children:C.jsxs("div",{className:"flex flex-col space-y-4 bg-white/60 backdrop-blur-md rounded-2xl p-5 border border-white/40 shadow-xl transition-all hover:shadow-2xl hover:bg-white/70",children:[C.jsxs("div",{className:"relative group",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),C.jsx("input",{type:"text",value:r,onChange:y=>e(y.target.value),placeholder:"Ne yaplmas gerekiyor?",className:"block w-full pl-12 pr-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 focus:bg-white text-gray-900 placeholder-gray-500 text-base transition-all duration-200"})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[C.jsxs("div",{className:"flex-1 relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),C.jsx("input",{type:"date",value:n,onChange:y=>s(y.target.value),className:"block w-full pl-10 pr-3 py-2.5 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 text-gray-700 text-sm transition-all duration-200"})]}),C.jsxs("div",{className:"flex-1 relative",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),C.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:`block w-full pl-10 pr-8 py-2.5 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 text-gray-700 text-sm appearance-none cursor-pointer transition-all duration-200 ${o==="high"?"text-red-600 font-medium":o==="medium"?"text-orange-600 font-medium":"text-green-600 font-medium"}`,children:[C.jsx("option",{value:"low",className:"text-gray-700",children:" Dk ncelik"}),C.jsx("option",{value:"medium",className:"text-gray-700",children:" Orta ncelik"}),C.jsx("option",{value:"high",className:"text-gray-700",children:" Yksek ncelik"})]})]}),C.jsxs("button",{type:"submit",disabled:!r.trim(),className:"sm:w-auto w-full px-8 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] shadow-md hover:shadow-lg font-medium flex items-center justify-center space-x-2 min-w-[120px]",children:[C.jsx("span",{children:"Olutur"}),C.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]})]})]})})},EN=({priority:r})=>{const e={high:"bg-red-50 text-red-700 border-red-100",medium:"bg-orange-50 text-orange-700 border-orange-100",low:"bg-green-50 text-green-700 border-green-100"},n={high:"Yksek",medium:"Orta",low:"Dk"};return C.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium border ${e[r]}`,children:n[r]})},TN=({todo:r,onToggle:e,onDelete:n})=>{const[s,o]=hi.useState(!1),[u,f]=hi.useState(""),g=Kn(Y=>Y.addSubTask),p=Kn(Y=>Y.toggleSubTask),y=Kn(Y=>Y.deleteSubTask),T=async Y=>{Y.preventDefault(),u.trim()&&(await g(r.id,u),f(""))},b=Y=>Y?new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"short"}).format(new Date(Y)):null,N=r.dueDate&&new Date(r.dueDate)<new Date&&!r.completed,H=r.subTasks?.filter(Y=>Y.completed).length||0,Z=r.subTasks?.length||0,ee=Z===0?0:Math.round(H/Z*100);return C.jsx("div",{className:`group bg-white/60 backdrop-blur-sm rounded-2xl border transition-all duration-300 ${s?"shadow-md border-blue-200 bg-white/90":"border-white/30 shadow-sm hover:shadow-md hover:bg-white/80"}`,children:C.jsxs("div",{className:"p-3 sm:p-4",children:[C.jsxs("div",{className:"flex items-start justify-between gap-3",children:[C.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[C.jsx("button",{onClick:()=>e(r.id),className:`mt-1 flex-shrink-0 h-5 w-5 sm:h-6 sm:w-6 rounded-full border-2 transition-all duration-200 ${r.completed?"bg-gradient-to-r from-green-500 to-emerald-500 border-transparent":"border-gray-300 hover:border-blue-400"} flex items-center justify-center`,children:r.completed&&C.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[C.jsx("span",{className:`text-gray-900 transition-all duration-200 text-sm sm:text-base break-words font-medium ${r.completed?"line-through text-gray-500":""}`,children:r.text}),C.jsx(EN,{priority:r.priority}),r.dueDate&&C.jsxs("span",{className:`flex items-center text-xs px-2 py-0.5 rounded-md border ${N?"bg-red-50 text-red-600 border-red-100":"bg-gray-50 text-gray-600 border-gray-100"}`,children:[C.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b(r.dueDate)]})]}),Z>0&&C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("div",{className:"h-1.5 flex-1 bg-gray-100 rounded-full overflow-hidden",children:C.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${ee===100?"bg-green-500":"bg-blue-500"}`,style:{width:`${ee}%`}})}),C.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[H,"/",Z]})]})]})]}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("button",{onClick:()=>o(!s),className:`p-1.5 sm:p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 ${s?"bg-blue-50 text-blue-600":""}`,children:C.jsx("svg",{className:`h-5 w-5 transform transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),C.jsx("button",{onClick:()=>n(r.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",children:C.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s&&C.jsxs("div",{className:"mt-4 pl-4 sm:pl-10 space-y-3 border-t border-gray-100 pt-3 animation-fade-in",children:[r.subTasks?.length>0&&C.jsx("div",{className:"space-y-2",children:r.subTasks.map(Y=>C.jsxs("div",{className:"flex items-center justify-between group/sub",children:[C.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[C.jsx("button",{onClick:()=>p(r.id,Y.id),className:`h-4 w-4 rounded border transition-colors ${Y.completed?"bg-blue-500 border-blue-500 text-white":"border-gray-300 hover:border-blue-400"} flex items-center justify-center`,children:Y.completed&&C.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),C.jsx("span",{className:`text-sm ${Y.completed?"line-through text-gray-400":"text-gray-700"}`,children:Y.text})]}),C.jsx("button",{onClick:()=>y(r.id,Y.id),className:"opacity-0 group-hover/sub:opacity-100 p-1 text-red-400 hover:text-red-600 transition-opacity",children:C.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y.id))}),C.jsxs("form",{onSubmit:T,className:"flex items-center space-x-2",children:[C.jsx("input",{type:"text",value:u,onChange:Y=>f(Y.target.value),placeholder:"Alt grev ekle...",className:"flex-1 bg-gray-50 border-transparent focus:bg-white focus:border-blue-300 focus:ring-0 rounded-lg text-sm px-3 py-1.5 transition-all outline-none placeholder-gray-400"}),C.jsx("button",{type:"submit",disabled:!u.trim(),className:"text-blue-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-50 p-1.5 rounded-lg transition-colors",children:C.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]})]})})},AN=()=>{const{todos:r,loading:e,error:n}=Kn(),s=Kn(p=>p.toggleTodo),o=Kn(p=>p.deleteTodo),[u,f]=hi.useState("createdDesc"),g=hi.useMemo(()=>[...r].sort((p,y)=>{switch(u){case"createdDesc":return new Date(y.createdAt).getTime()-new Date(p.createdAt).getTime();case"createdAsc":return new Date(p.createdAt).getTime()-new Date(y.createdAt).getTime();case"priorityHigh":{const T={high:3,medium:2,low:1};return T[y.priority]-T[p.priority]}case"priorityLow":{const T={high:3,medium:2,low:1};return T[p.priority]-T[y.priority]}case"dueDateNear":return p.dueDate?y.dueDate?new Date(p.dueDate).getTime()-new Date(y.dueDate).getTime():-1:1;case"dueDateFar":return p.dueDate?y.dueDate?new Date(y.dueDate).getTime()-new Date(p.dueDate).getTime():-1:1;default:return 0}}),[r,u]);return e?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),C.jsx("p",{className:"text-gray-500 mt-2",children:"Grevler ykleniyor..."})]}):n?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:C.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Hata olutu"}),C.jsx("p",{className:"text-red-600",children:n})]}):C.jsxs("div",{className:"space-y-4",children:[r.length>0&&C.jsx("div",{className:"flex justify-end mb-4",children:C.jsxs("div",{className:"relative",children:[C.jsxs("select",{value:u,onChange:p=>f(p.target.value),className:"appearance-none bg-white/50 backdrop-blur-sm border border-white/40 pl-4 pr-10 py-2 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm cursor-pointer hover:bg-white/70 transition-all",children:[C.jsx("option",{value:"createdDesc",children:" En Yeni"}),C.jsx("option",{value:"createdAsc",children:" En Eski"}),C.jsx("option",{value:"priorityHigh",children:" ncelik (Yksek-Dk)"}),C.jsx("option",{value:"priorityLow",children:" ncelik (Dk-Yksek)"}),C.jsx("option",{value:"dueDateNear",children:" Son Tarih (Yakn)"}),C.jsx("option",{value:"dueDateFar",children:" Son Tarih (Uzak)"})]}),C.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:C.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),r.length===0?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:C.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),C.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Henz grev yok"}),C.jsx("p",{className:"text-gray-500",children:"Yukardaki formu kullanarak ilk grevinizi ekleyin"})]}):C.jsx("div",{className:"space-y-3",children:g.map(p=>C.jsx(TN,{todo:p,onToggle:()=>s(p.id),onDelete:()=>o(p.id)},p.id))})]})},bN=()=>{const{user:r,logout:e}=ao();return C.jsx(_N,{children:r?C.jsx("div",{className:"w-full",children:C.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-xl border border-white/20 p-4 sm:p-6 lg:p-8",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[C.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[C.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl sm:rounded-2xl flex items-center justify-center flex-shrink-0",children:C.jsx("svg",{className:"h-5 w-5 sm:h-7 sm:w-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:"Grevlerim"}),C.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Ho geldin, ",r?.firstName," ",r?.lastName]})]})]}),C.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-white/50 rounded-lg transition-all duration-200",children:[C.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),C.jsx("span",{children:"k"})]})]}),C.jsx(vN,{}),C.jsx(AN,{})]})}):C.jsx(pN,{})})},SN=document.getElementById("root"),wN=Vb.createRoot(SN);wN.render(C.jsx($d.StrictMode,{children:C.jsx(bN,{})}));
